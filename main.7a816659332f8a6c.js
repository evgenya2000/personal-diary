"use strict";(self.webpackChunkpersonal_diary=self.webpackChunkpersonal_diary||[]).push([[179],{941:()=>{function xe(t){return"function"==typeof t}function Lc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Vc=Lc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ss(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class En{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(s){e=s instanceof Vc?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{A0(s)}catch(o){e=e??[],o instanceof Vc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Vc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)A0(e);else{if(e instanceof En){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ss(n,e)}remove(e){const{_finalizers:n}=this;n&&Ss(n,e),e instanceof En&&e._removeParent(this)}}En.EMPTY=(()=>{const t=new En;return t.closed=!0,t})();const C0=En.EMPTY;function S0(t){return t instanceof En||t&&"closed"in t&&xe(t.remove)&&xe(t.add)&&xe(t.unsubscribe)}function A0(t){xe(t)?t():t.unsubscribe()}const Si={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Bc={setTimeout(t,e,...n){const{delegate:r}=Bc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Bc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function x0(t){Bc.setTimeout(()=>{const{onUnhandledError:e}=Si;if(!e)throw t;e(t)})}function M0(){}const hV=Yf("C",void 0,void 0);function Yf(t,e,n){return{kind:t,value:e,error:n}}let Ai=null;function Uc(t){if(Si.useDeprecatedSynchronousErrorHandling){const e=!Ai;if(e&&(Ai={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ai;if(Ai=null,n)throw r}}else t()}class Jf extends En{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,S0(e)&&e.add(this)):this.destination=vV}static create(e,n,r){return new fa(e,n,r)}next(e){this.isStopped?Zf(function pV(t){return Yf("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Zf(function fV(t){return Yf("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zf(hV,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mV=Function.prototype.bind;function Xf(t,e){return mV.call(t,e)}class yV{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){jc(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){jc(r)}else jc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){jc(n)}}}class fa extends Jf{constructor(e,n,r){let i;if(super(),xe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Si.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Xf(e.next,s),error:e.error&&Xf(e.error,s),complete:e.complete&&Xf(e.complete,s)}):i=e}this.destination=new yV(i)}}function jc(t){Si.useDeprecatedSynchronousErrorHandling?function gV(t){Si.useDeprecatedSynchronousErrorHandling&&Ai&&(Ai.errorThrown=!0,Ai.error=t)}(t):x0(t)}function Zf(t,e){const{onStoppedNotification:n}=Si;n&&Bc.setTimeout(()=>n(t,e))}const vV={closed:!0,next:M0,error:function _V(t){throw t},complete:M0},ep="function"==typeof Symbol&&Symbol.observable||"@@observable";function $c(t){return t}let lt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function wV(t){return t&&t instanceof Jf||function IV(t){return t&&xe(t.next)&&xe(t.error)&&xe(t.complete)}(t)&&S0(t)}(n)?n:new fa(n,r,i);return Uc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=k0(r))((i,s)=>{const o=new fa({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ep](){return this}pipe(...n){return function N0(t){return 0===t.length?$c:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=k0(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function k0(t){var e;return null!==(e=t??Si.Promise)&&void 0!==e?e:Promise}const EV=Lc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Hc=(()=>{class t extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new R0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new EV}next(n){Uc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Uc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Uc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?C0:(this.currentObservers=null,s.push(n),new En(()=>{this.currentObservers=null,Ss(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new lt;return n.source=this,n}}return t.create=(e,n)=>new R0(e,n),t})();class R0 extends Hc{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:C0}}class DV extends Hc{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function jr(t){return e=>{if(function TV(t){return xe(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $r(t,e,n,r,i){return new bV(t,e,n,r,i)}class bV extends Jf{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function tp(t,e){return jr((n,r)=>{let i=0;n.subscribe($r(r,s=>{r.next(t.call(e,s,i++))}))})}function ip(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Hr(t){return this instanceof Hr?(this.v=t,this):new Hr(t)}function L0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function op(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const V0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function B0(t){return xe(t?.then)}function U0(t){return xe(t[ep])}function j0(t){return Symbol.asyncIterator&&xe(t?.[Symbol.asyncIterator])}function $0(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const H0=function qV(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function G0(t){return xe(t?.[H0])}function z0(t){return function F0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Hr?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Hr(n.read());if(i)return yield Hr(void 0);yield yield Hr(r)}}finally{n.releaseLock()}})}function q0(t){return xe(t?.getReader)}function lr(t){if(t instanceof lt)return t;if(null!=t){if(U0(t))return function WV(t){return new lt(e=>{const n=t[ep]();if(xe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(V0(t))return function KV(t){return new lt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(B0(t))return function QV(t){return new lt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,x0)})}(t);if(j0(t))return W0(t);if(G0(t))return function YV(t){return new lt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(q0(t))return function JV(t){return W0(z0(t))}(t)}throw $0(t)}function W0(t){return new lt(e=>{(function XV(t,e){var n,r,i,s;return function P0(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=L0(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Gr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function K0(t,e,n=1/0){return xe(e)?K0((r,i)=>tp((s,o)=>e(r,s,i,o))(lr(t(r,i))),n):("number"==typeof e&&(n=e),jr((r,i)=>function ZV(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;lr(n(g,l++)).subscribe($r(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();o?Gr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe($r(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}const Q0=new lt(t=>t.complete());function ap(t){return t[t.length-1]}function Y0(t){return function nB(t){return t&&xe(t.schedule)}(ap(t))?t.pop():void 0}function Gc(t,e=0){return jr((n,r)=>{n.subscribe($r(r,i=>Gr(r,t,()=>r.next(i),e),()=>Gr(r,t,()=>r.complete(),e),i=>Gr(r,t,()=>r.error(i),e)))})}function zc(t,e=0){return jr((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function J0(t,e){if(!t)throw new Error("Iterable cannot be null");return new lt(n=>{Gr(n,e,()=>{const r=t[Symbol.asyncIterator]();Gr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function X0(t,e){return e?function cB(t,e){if(null!=t){if(U0(t))return function iB(t,e){return lr(t).pipe(zc(e),Gc(e))}(t,e);if(V0(t))return function oB(t,e){return new lt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(B0(t))return function sB(t,e){return lr(t).pipe(zc(e),Gc(e))}(t,e);if(j0(t))return J0(t,e);if(G0(t))return function aB(t,e){return new lt(n=>{let r;return Gr(n,e,()=>{r=t[H0](),Gr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(t,e);if(q0(t))return function uB(t,e){return J0(z0(t),e)}(t,e)}throw $0(t)}(t,e):lr(t)}function lB(...t){const e=Y0(t),n=function rB(t,e){return"number"==typeof ap(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?lr(r[0]):function eB(t=1/0){return K0($c,t)}(n)(X0(r,e)):Q0}function Z0(t={}){const{connector:e=(()=>new Hc),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return jr((g,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=up(p,i))}),w.subscribe(y),!o&&c>0&&(o=new fa({next:_=>w.next(_),error:_=>{d=!0,h(),a=up(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=up(f,r),w.complete()}}),lr(g).subscribe(o))})(s)}}function up(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new fa({next:()=>{r.unsubscribe(),t()}});return lr(e(...n)).subscribe(r)}function pB(t,e){return t===e}function le(t){for(let e in t)if(t[e]===le)return e;throw Error("Could not find renamed property on target object.")}function Je(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Je).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function cp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const gB=le({__forward_ref__:le});function lp(t){return t.__forward_ref__=lp,t.toString=function(){return Je(this())},t}function U(t){return function dp(t){return"function"==typeof t&&t.hasOwnProperty(gB)&&t.__forward_ref__===lp}(t)?t():t}function hp(t){return t&&!!t.\u0275providers}class k extends Error{constructor(e,n){super(function Wc(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function $(t){return"string"==typeof t?t:null==t?"":String(t)}function fp(t,e){throw new k(-201,!1)}function hn(t,e){null==t&&function L(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function de(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Kc(t){return tb(t,Yc)||tb(t,nb)}function tb(t,e){return t.hasOwnProperty(e)?t[e]:null}function Qc(t){return t&&(t.hasOwnProperty(pp)||t.hasOwnProperty(EB))?t[pp]:null}const Yc=le({\u0275prov:le}),pp=le({\u0275inj:le}),nb=le({ngInjectableDef:le}),EB=le({ngInjectorDef:le});var Z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Z||{});let gp;function $t(t){const e=gp;return gp=t,e}function ib(t,e,n){const r=Kc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Z.Optional?null:void 0!==e?e:void fp(Je(t))}const pe=globalThis,pa={},Ip="__NG_DI_FLAG__",Jc="ngTempTokenPath",bB=/\n/gm,ob="__source";let As;function qr(t){const e=As;return As=t,e}function AB(t,e=Z.Default){if(void 0===As)throw new k(-203,!1);return null===As?ib(t,void 0,e):As.get(t,e&Z.Optional?null:void 0,e)}function Y(t,e=Z.Default){return(function rb(){return gp}()||AB)(U(t),e)}function ye(t,e=Z.Default){return Y(t,Xc(e))}function Xc(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function wp(t){const e=[];for(let n=0;n<t.length;n++){const r=U(t[n]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let i,s=Z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=xB(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(Y(i,s))}else e.push(Y(r))}return e}function ga(t,e){return t[Ip]=e,t.prototype[Ip]=e,t}function xB(t){return t[Ip]}function dr(t){return{toString:t}.toString()}var Zc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Zc||{}),Dn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dn||{});const Ln={},oe=[],el=le({\u0275cmp:le}),Ep=le({\u0275dir:le}),Dp=le({\u0275pipe:le}),ub=le({\u0275mod:le}),hr=le({\u0275fac:le}),ma=le({__NG_ELEMENT_ID__:le}),cb=le({__NG_ENV_ID__:le});function lb(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Tp(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];hb(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function db(t){return 3===t||4===t||6===t}function hb(t){return 64===t.charCodeAt(0)}function ya(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||fb(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function fb(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const pb="ng-template";function kB(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==lb(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function gb(t){return 4===t.type&&t.value!==pb}function RB(t,e,n){return e===(4!==t.type||n?t.value:pb)}function PB(t,e,n){let r=4;const i=t.attrs||[],s=function LB(t){for(let e=0;e<t.length;e++)if(db(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!RB(t,u,n)||""===u&&1===e.length){if(Tn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!kB(t.attrs,c,n)){if(Tn(r))return!1;o=!0}continue}const d=OB(8&r?"class":u,i,gb(t),n);if(-1===d){if(Tn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==lb(f,c,0)||2&r&&c!==h){if(Tn(r))return!1;o=!0}}}}else{if(!o&&!Tn(r)&&!Tn(u))return!1;if(o&&Tn(u))continue;o=!1,r=u|1&r}}return Tn(r)||o}function Tn(t){return 0==(1&t)}function OB(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function VB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function mb(t,e,n=!1){for(let r=0;r<e.length;r++)if(PB(t,e[r],n))return!0;return!1}function yb(t,e){return t?":not("+e.trim()+")":e}function UB(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Tn(o)&&(e+=yb(s,i),i=""),r=o,s=s||!Tn(r);n++}return""!==i&&(e+=yb(s,i)),e}function _b(t){return dr(()=>{const e=Ib(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Zc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dn.Emulated,styles:t.styles||oe,_:null,schemas:t.schemas||null,tView:null,id:""};wb(n);const r=t.dependencies;return n.directiveDefs=tl(r,!1),n.pipeDefs=tl(r,!0),n.id=function KB(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function GB(t){return te(t)||dt(t)}function zB(t){return null!==t}function Mi(t){return dr(()=>({type:t.type,bootstrap:t.bootstrap||oe,declarations:t.declarations||oe,imports:t.imports||oe,exports:t.exports||oe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vb(t,e){if(null==t)return Ln;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function fn(t){return dr(()=>{const e=Ib(t);return wb(e),e})}function Ht(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function te(t){return t[el]||null}function dt(t){return t[Ep]||null}function Nt(t){return t[Dp]||null}function Ib(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ln,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||oe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vb(t.inputs,e),outputs:vb(t.outputs)}}function wb(t){t.features?.forEach(e=>e(t))}function tl(t,e){if(!t)return null;const n=e?Nt:GB;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(zB)}const Ve=0,M=1,z=2,Ce=3,bn=4,va=5,wt=6,xs=7,Be=8,Wr=9,Ms=10,H=11,Ia=12,Eb=13,Ns=14,Ue=15,wa=16,ks=17,Vn=18,Ea=19,Db=20,Kr=21,fr=22,nl=23,rl=24,J=25,bp=1,Tb=2,Bn=7,Rs=9,ht=11;function Gt(t){return Array.isArray(t)&&"object"==typeof t[bp]}function zt(t){return Array.isArray(t)&&!0===t[bp]}function Cp(t){return 0!=(4&t.flags)}function Ni(t){return t.componentOffset>-1}function sl(t){return 1==(1&t.flags)}function Cn(t){return!!t.template}function Sp(t){return 0!=(512&t[z])}function ki(t,e){return t.hasOwnProperty(hr)?t[hr]:null}let eU=pe.WeakRef??class ZB{constructor(e){this.ref=e}deref(){return this.ref}},nU=0,Un=null,ol=!1;function nt(t){const e=Un;return Un=t,e}class xb{constructor(){this.id=nU++,this.ref=function tU(t){return new eU(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=ol;ol=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{ol=e}}producerAccessed(){if(ol)throw new Error("");if(null===Un)return;let e=Un.producers.get(this.id);void 0===e?(e={consumerNode:Un.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Un.trackingVersion},Un.producers.set(this.id,e),this.consumers.set(Un.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Un.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Un?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let Mb=null;const kb=()=>{};class oU extends xb{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=kb,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=nt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=kb,this.watch(this.registerOnCleanup)}finally{nt(e)}}cleanup(){this.cleanupFn()}}class aU{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Rb(t){return t.type.prototype.ngOnChanges&&(t.setInput=cU),uU}function uU(){const t=Ob(this),e=t?.current;if(e){const n=t.previous;if(n===Ln)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function cU(t,e,n,r){const i=this.declaredInputs[n],s=Ob(t)||function lU(t,e){return t[Pb]=e}(t,{previous:Ln,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new aU(u&&u.currentValue,e,a===Ln),t[r]=e}const Pb="__ngSimpleChanges__";function Ob(t){return t[Pb]||null}const jn=function(t,e,n){};function _e(t){for(;Array.isArray(t);)t=t[Ve];return t}function qt(t,e){return _e(e[t.index])}function Vb(t,e){return t.data[e]}function Ps(t,e){return t[e]}function nn(t,e){const n=e[t];return Gt(n)?n:n[Ve]}function Qr(t,e){return null==e?null:t[e]}function Bb(t){t[ks]=0}function yU(t){1024&t[z]||(t[z]|=1024,jb(t,1))}function Ub(t){1024&t[z]&&(t[z]&=-1025,jb(t,-1))}function jb(t,e){let n=t[Ce];if(null===n)return;n[va]+=e;let r=n;for(n=n[Ce];null!==n&&(1===e&&1===r[va]||-1===e&&0===r[va]);)n[va]+=e,r=n,n=n[Ce]}const V={lFrame:Xb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Gb(){return V.bindingsEnabled}function E(){return V.lFrame.lView}function ne(){return V.lFrame.tView}function Rp(t){return V.lFrame.contextLView=t,t[Be]}function Pp(t){return V.lFrame.contextLView=null,t}function ft(){let t=zb();for(;null!==t&&64===t.type;)t=t.parent;return t}function zb(){return V.lFrame.currentTNode}function $n(t,e){const n=V.lFrame;n.currentTNode=t,n.isParent=e}function Op(){return V.lFrame.isParent}function Fs(){return V.lFrame.bindingIndex++}function xU(t,e){const n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,Lp(e)}function Lp(t){V.lFrame.currentDirectiveIndex=t}function Bp(t){V.lFrame.currentQueryIndex=t}function NU(t){const e=t[M];return 2===e.type?e.declTNode:1===e.type?t[wt]:null}function Yb(t,e,n){if(n&Z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Z.Host||(i=NU(s),null===i||(s=s[Ns],10&i.type))););if(null===i)return!1;e=i,t=s}const r=V.lFrame=Jb();return r.currentTNode=e,r.lView=t,!0}function Up(t){const e=Jb(),n=t[M];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Jb(){const t=V.lFrame,e=null===t?null:t.child;return null===e?Xb(t):e}function Xb(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Zb(){const t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const eC=Zb;function jp(){const t=Zb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Rt(){return V.lFrame.selectedIndex}function Ri(t){V.lFrame.selectedIndex=t}let nC=!0;function dl(){return nC}function Yr(t){nC=t}function hl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function fl(t,e,n){rC(t,e,3,n)}function pl(t,e,n,r){(3&t[z])===n&&rC(t,e,n,r)}function $p(t,e){let n=t[z];(3&n)===e&&(n&=8191,n+=1,t[z]=n)}function rC(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[ks]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[ks]+=65536),(a<s||-1==s)&&(BU(t,n,e,u),t[ks]=(4294901760&t[ks])+u+2),u++}function iC(t,e){jn(4,t,e);const n=nt(null);try{e.call(t)}finally{nt(n),jn(5,t,e)}}function BU(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[z]>>13<t[ks]>>16&&(3&t[z])===e&&(t[z]+=8192,iC(a,s)):iC(a,s)}const Ls=-1;class ba{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Gp(t){return t!==Ls}function Ca(t){return 32767&t}function Sa(t,e){let n=function HU(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ns],n--;return r}let zp=!0;function gl(t){const e=zp;return zp=t,e}const sC=255,oC=5;let GU=0;const Hn={};function ml(t,e){const n=aC(t,e);if(-1!==n)return n;const r=e[M];r.firstCreatePass&&(t.injectorIndex=e.length,qp(r.data,t),qp(e,null),qp(r.blueprint,null));const i=yl(t,e),s=t.injectorIndex;if(Gp(i)){const o=Ca(i),a=Sa(i,e),u=a[M].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function qp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function aC(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function yl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=pC(i),null===r)return Ls;if(n++,i=i[Ns],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ls}function Wp(t,e,n){!function zU(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ma)&&(r=n[ma]),null==r&&(r=n[ma]=GU++);const i=r&sC;e.data[t+(i>>oC)]|=1<<i}(t,e,n)}function uC(t,e,n){if(n&Z.Optional||void 0!==t)return t;fp()}function cC(t,e,n,r){if(n&Z.Optional&&void 0===r&&(r=null),!(n&(Z.Self|Z.Host))){const i=t[Wr],s=$t(void 0);try{return i?i.get(e,r,n&Z.Optional):ib(e,r,n&Z.Optional)}finally{$t(s)}}return uC(r,0,n)}function lC(t,e,n,r=Z.Default,i){if(null!==t){if(2048&e[z]&&!(r&Z.Self)){const o=function XU(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[z]&&!(512&o[z]);){const a=dC(s,o,n,r|Z.Self,Hn);if(a!==Hn)return a;let u=s.parent;if(!u){const c=o[Db];if(c){const l=c.get(n,Hn,r);if(l!==Hn)return l}u=pC(o),o=o[Ns]}s=u}return i}(t,e,n,r,Hn);if(o!==Hn)return o}const s=dC(t,e,n,r,Hn);if(s!==Hn)return s}return cC(e,n,r,i)}function dC(t,e,n,r,i){const s=function KU(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ma)?t[ma]:void 0;return"number"==typeof e?e>=0?e&sC:YU:e}(n);if("function"==typeof s){if(!Yb(e,t,r))return r&Z.Host?uC(i,0,r):cC(e,n,r,i);try{let o;if(o=s(r),null!=o||r&Z.Optional)return o;fp()}finally{eC()}}else if("number"==typeof s){let o=null,a=aC(t,e),u=Ls,c=r&Z.Host?e[Ue][wt]:null;for((-1===a||r&Z.SkipSelf)&&(u=-1===a?yl(t,e):e[a+8],u!==Ls&&fC(r,!1)?(o=e[M],a=Ca(u),e=Sa(u,e)):a=-1);-1!==a;){const l=e[M];if(hC(s,a,l.data)){const d=WU(a,e,n,o,r,c);if(d!==Hn)return d}u=e[a+8],u!==Ls&&fC(r,e[M].data[a+8]===c)&&hC(s,a,e)?(o=l,a=Ca(u),e=Sa(u,e)):a=-1}}return i}function WU(t,e,n,r,i,s){const o=e[M],a=o.data[t+8],l=function _l(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Cn(f)&&f.type===n)return u}return null}(a,o,n,null==r?Ni(a)&&zp:r!=o&&0!=(3&a.type),i&Z.Host&&s===a);return null!==l?Pi(e,o,l,a):Hn}function Pi(t,e,n,r){let i=t[n];const s=e.data;if(function UU(t){return t instanceof ba}(i)){const o=i;o.resolving&&function mB(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new k(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ce(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$(t)}(s[n]));const a=gl(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?$t(o.injectImpl):null;Yb(t,r,Z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function VU(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Rb(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&$t(c),gl(a),o.resolving=!1,eC()}}return i}function hC(t,e,n){return!!(n[e+(t>>oC)]&1<<t)}function fC(t,e){return!(t&Z.Self||t&Z.Host&&e)}class Pt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return lC(this._tNode,this._lView,e,Xc(r),n)}}function YU(){return new Pt(ft(),E())}function pC(t){const e=t[M],n=e.type;return 2===n?e.declTNode:1===n?t[wt]:null}const Bs="__parameters__";function js(t,e,n){return dr(()=>{const r=function Yp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Bs)?u[Bs]:Object.defineProperty(u,Bs,{value:[]})[Bs];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Hs(t,e){t.forEach(n=>Array.isArray(n)?Hs(n,e):e(n))}function mC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const sn=ga(js("Optional"),8),Zp=ga(js("SkipSelf"),4);function bl(t){return 128==(128&t.flags)}var Jr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Jr||{});const rg=new Map;let xj=0;const sg="__ngContext__";function Et(t,e){Gt(e)?(t[sg]=e[Ea],function Nj(t){rg.set(t[Ea],t)}(e)):t[sg]=e}let og;function ag(t,e){return og(t,e)}function Ra(t){const e=t[Ce];return zt(e)?e[Ce]:e}function LC(t){return BC(t[Ia])}function VC(t){return BC(t[bn])}function BC(t){for(;null!==t&&!zt(t);)t=t[bn];return t}function Ws(t,e,n,r,i){if(null!=r){let s,o=!1;zt(r)?s=r:Gt(r)&&(o=!0,r=r[Ve]);const a=_e(r);0===t&&null!==n?null==i?HC(e,n,a):Oi(e,n,a,i||null,!0):1===t&&null!==n?Oi(e,n,a,i||null,!0):2===t?function kl(t,e,n){const r=Ml(t,e);r&&function Yj(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Zj(t,e,n,r,i){const s=n[Bn];s!==_e(n)&&Ws(e,t,r,s,i);for(let a=ht;a<n.length;a++){const u=n[a];Oa(u[M],u,t,e,r,s)}}(e,t,s,n,i)}}function Al(t,e,n){return t.createElement(e,n)}function jC(t,e){const n=t[Rs],r=n.indexOf(e);Ub(e),n.splice(r,1)}function xl(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const i=r[wa];null!==i&&i!==t&&jC(i,r),e>0&&(t[n-1][bn]=r[bn]);const s=vl(t,ht+e);!function $j(t,e){Oa(t,e,e[H],2,null,null),e[Ve]=null,e[wt]=null}(r[M],r);const o=s[Vn];null!==o&&o.detachView(s[M]),r[Ce]=null,r[bn]=null,r[z]&=-129}return r}function cg(t,e){if(!(256&e[z])){const n=e[H];e[nl]?.destroy(),e[rl]?.destroy(),n.destroyNode&&Oa(t,e,n,3,null,null),function zj(t){let e=t[Ia];if(!e)return lg(t[M],t);for(;e;){let n=null;if(Gt(e))n=e[Ia];else{const r=e[ht];r&&(n=r)}if(!n){for(;e&&!e[bn]&&e!==t;)Gt(e)&&lg(e[M],e),e=e[Ce];null===e&&(e=t),Gt(e)&&lg(e[M],e),n=e&&e[bn]}e=n}}(e)}}function lg(t,e){if(!(256&e[z])){e[z]&=-129,e[z]|=256,function Qj(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ba)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];jn(4,a,u);try{u.call(a)}finally{jn(5,a,u)}}else{jn(4,i,s);try{s.call(i)}finally{jn(5,i,s)}}}}}(t,e),function Kj(t,e){const n=t.cleanup,r=e[xs];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[xs]=null);const i=e[Kr];if(null!==i){e[Kr]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[M].type&&e[H].destroy();const n=e[wa];if(null!==n&&zt(e[Ce])){n!==e[Ce]&&jC(n,e);const r=e[Vn];null!==r&&r.detachView(t)}!function kj(t){rg.delete(t[Ea])}(e)}}function dg(t,e,n){return function $C(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ve];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Dn.None||s===Dn.Emulated)return null}return qt(r,n)}}(t,e.parent,n)}function Oi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function HC(t,e,n){t.appendChild(e,n)}function GC(t,e,n,r,i){null!==r?Oi(t,e,n,r,i):HC(t,e,n)}function Ml(t,e){return t.parentNode(e)}let hg,mg,WC=function qC(t,e,n){return 40&t.type?qt(t,n):null};function Nl(t,e,n,r){const i=dg(t,r,e),s=e[H],a=function zC(t,e,n){return WC(t,e,n)}(r.parent||e[wt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)GC(s,i,n[u],a,!1);else GC(s,i,n,a,!1);void 0!==hg&&hg(s,r,e,n,i)}function Pa(t,e){if(null!==e){const n=e.type;if(3&n)return qt(e,t);if(4&n)return fg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Pa(t,r);{const i=t[e.index];return zt(i)?fg(-1,i):_e(i)}}if(32&n)return ag(e,t)()||_e(t[e.index]);{const r=QC(t,e);return null!==r?Array.isArray(r)?r[0]:Pa(Ra(t[Ue]),r):Pa(t,e.next)}}return null}function QC(t,e){return null!==e?t[Ue][wt].projection[e.projection]:null}function fg(t,e){const n=ht+t+1;if(n<e.length){const r=e[n],i=r[M].firstChild;if(null!==i)return Pa(r,i)}return e[Bn]}function pg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Et(_e(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)pg(t,e,n.child,r,i,s,!1),Ws(e,t,i,a,s);else if(32&u){const c=ag(n,r);let l;for(;l=c();)Ws(e,t,i,l,s);Ws(e,t,i,a,s)}else 16&u?JC(t,e,r,n,i,s):Ws(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Oa(t,e,n,r,i,s){pg(n,r,t.firstChild,e,i,s,!1)}function JC(t,e,n,r,i,s){const o=n[Ue],u=o[wt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ws(e,t,i,u[c],s);else{let c=u;const l=o[Ce];bl(r)&&(c.flags|=128),pg(t,e,c,l,i,s,!0)}}function XC(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ZC(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Tp(t,e,r),null!==i&&XC(t,e,i),null!==s&&function t$(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class B{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=de({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Fl=new B("ENVIRONMENT_INITIALIZER"),hS=new B("INJECTOR",-1),fS=new B("INJECTOR_DEF_TYPES");class Eg{get(e,n=pa){if(n===pa){const r=new Error(`NullInjectorError: No provider for ${Je(e)}!`);throw r.name="NullInjectorError",r}return n}}function x$(...t){return{\u0275providers:gS(0,t),\u0275fromNgModule:!0}}function gS(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Hs(e,o=>{const a=o;Ll(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&mS(i,s),n}function mS(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Dg(i,s=>{e(s,r)})}}function Ll(t,e,n,r){if(!(t=U(t)))return!1;let i=null,s=Qc(t);const o=!s&&te(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=Qc(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Ll(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Hs(s.imports,l=>{Ll(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&mS(c,e)}if(!a){const c=ki(i)||(()=>new i);e({provide:i,useFactory:c,deps:oe},i),e({provide:fS,useValue:i,multi:!0},i),e({provide:Fl,useValue:()=>Y(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;Dg(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function Dg(t,e){for(let n of t)hp(n)&&(n=n.\u0275providers),Array.isArray(n)?Dg(n,e):e(n)}const M$=le({provide:String,useValue:le});function Tg(t){return null!==t&&"object"==typeof t&&M$ in t}function Fi(t){return"function"==typeof t}const bg=new B("Set Injector scope."),Vl={},k$={};let Cg;function Bl(){return void 0===Cg&&(Cg=new Eg),Cg}class yr{}class Ul extends yr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ag(e,o=>this.processProvider(o)),this.records.set(hS,Js(void 0,this)),i.has("environment")&&this.records.set(yr,Js(void 0,this));const s=this.records.get(bg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(fS.multi,oe,Z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=qr(this),r=$t(void 0);try{return e()}finally{qr(n),$t(r)}}get(e,n=pa,r=Z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(cb))return e[cb](this);r=Xc(r);const s=qr(this),o=$t(void 0);try{if(!(r&Z.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function L$(t){return"function"==typeof t||"object"==typeof t&&t instanceof B}(e)&&Kc(e);u=c&&this.injectableDefInScope(c)?Js(Sg(e),Vl):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&Z.Self?Bl():this.parent).get(e,n=r&Z.Optional&&n===pa?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Jc]=a[Jc]||[]).unshift(Je(e)),s)throw a;return function MB(t,e,n,r){const i=t[Jc];throw e[ob]&&i.unshift(e[ob]),t.message=function NB(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Je(e);if(Array.isArray(e))i=e.map(Je).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Je(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(bB,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Jc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{$t(o),qr(s)}}resolveInjectorInitializers(){const e=qr(this),n=$t(void 0);try{const i=this.get(Fl.multi,oe,Z.Self);for(const s of i)s()}finally{qr(e),$t(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Je(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){let n=Fi(e=U(e))?e:U(e&&e.provide);const r=function P$(t){return Tg(t)?Js(void 0,t.useValue):Js(function vS(t,e,n){let r;if(Fi(t)){const i=U(t);return ki(i)||Sg(i)}if(Tg(t))r=()=>U(t.useValue);else if(function _S(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...wp(t.deps||[]));else if(function yS(t){return!(!t||!t.useExisting)}(t))r=()=>Y(U(t.useExisting));else{const i=U(t&&(t.useClass||t.provide));if(!function O$(t){return!!t.deps}(t))return ki(i)||Sg(i);r=()=>new i(...wp(t.deps))}return r}(t),Vl)}(e);if(Fi(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Js(void 0,Vl,!0),i.factory=()=>wp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Vl&&(n.value=k$,n.value=n.factory()),"object"==typeof n.value&&n.value&&function F$(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=U(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Sg(t){const e=Kc(t),n=null!==e?e.factory:ki(t);if(null!==n)return n;if(t instanceof B)throw new k(204,!1);if(t instanceof Function)return function R$(t){const e=t.length;if(e>0)throw function Ma(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new k(204,!1);const n=function wB(t){return t&&(t[Yc]||t[nb])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new k(204,!1)}function Js(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ag(t,e){for(const n of t)Array.isArray(n)?Ag(n,e):n&&hp(n)?Ag(n.\u0275providers,e):e(n)}const jl=new B("AppId",{providedIn:"root",factory:()=>V$}),V$="ng",IS=new B("Platform Initializer"),Zr=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wS=new B("CSP nonce",{providedIn:"root",factory:()=>function Qs(){if(void 0!==mg)return mg;if(typeof document<"u")return document;throw new k(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let DS=(t,e,n)=>null;function Og(t,e,n=!1){return DS(t,e,n)}class K${}class CS{}class Y${resolveComponentFactory(e){throw function Q$(t){const e=Error(`No component factory found for ${Je(t)}.`);return e.ngComponent=t,e}(e)}}let Wl=(()=>{class e{}return e.NULL=new Y$,e})();function J$(){return Zs(ft(),E())}function Zs(t,e){return new eo(qt(t,e))}let eo=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=J$,e})();class AS{}let eH=(()=>{var t;class e{}return(t=e).\u0275prov=de({token:t,providedIn:"root",factory:()=>null}),e})();class Kl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const MS=new Kl("16.2.1"),Vg={};function PS(t,e=null,n=null,r){const i=OS(t,e,n,r);return i.resolveInjectorInitializers(),i}function OS(t,e=null,n=null,r,i=new Set){const s=[n||oe,x$(t)];return r=r||("object"==typeof t?void 0:Je(t)),new Ul(s,e||Bl(),r||null,i)}let gn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return PS({name:""},i,r,"");{const s=r.name??"";return PS({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=pa,t.NULL=new Eg,t.\u0275prov=de({token:t,providedIn:"any",factory:()=>Y(hS)}),t.__NG_ELEMENT_ID__=-1,e})();let jg=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new k(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=de({token:t,providedIn:"root",factory:()=>new t}),e})();function $a(t){for(;t;){t[z]|=64;const e=Ra(t);if(Sp(t)&&!e)return t;t=e}return null}function $g(t){return t.ngOriginalError}class Li{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&$g(e);for(;n&&$g(n);)n=$g(n);return n||null}}const US=new B("",{providedIn:"root",factory:()=>!1});class GS extends xb{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){$a(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=nt(this);this.trackingVersion++;try{e(n,r)}finally{nt(i)}}destroy(){this.trackingVersion++}}let Yl=null;function zS(){return Yl??=new GS,Yl}function qS(t,e){return t[e]??zS()}function WS(t,e){const n=zS();n.hasReadASignal&&(t[e]=Yl,n.lView=t,Yl=new GS)}const q={};function Jl(t){KS(ne(),E(),Rt()+t,!1)}function KS(t,e,n,r){if(!r)if(3==(3&e[z])){const s=t.preOrderCheckHooks;null!==s&&fl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&pl(e,s,0,n)}Ri(n)}function Q(t,e=Z.Default){const n=E();return null===n?Y(t,e):lC(ft(),n,U(t),e)}function Xl(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Ve]=i,d[z]=140|r,(null!==c||t&&2048&t[z])&&(d[z]|=2048),Bb(d),d[Ce]=d[Ns]=t,d[Be]=n,d[Ms]=o||t&&t[Ms],d[H]=a||t&&t[H],d[Wr]=u||t&&t[Wr]||null,d[wt]=s,d[Ea]=function Mj(){return xj++}(),d[fr]=l,d[Db]=c,d[Ue]=2==e.type?t[Ue]:d,d}function ro(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Hg(t,e,n,r,i){const s=zb(),o=Op(),u=t.data[e]=function TH(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Os(){return null!==V.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function AU(){return V.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ta(){const t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return $n(s,!0),s}function Ha(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function QS(t,e,n,r,i){const s=qS(e,nl),o=Rt(),a=2&r;try{if(Ri(-1),a&&e.length>J&&KS(t,e,J,!1),jn(a?2:0,i),a)s.runInContext(n,r,i);else{const c=nt(null);try{n(r,i)}finally{nt(c)}}}finally{a&&null===e[nl]&&WS(e,nl),Ri(o),jn(a?3:1,i)}}function Gg(t,e,n){if(Cp(e)){const r=nt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{nt(r)}}}function zg(t,e,n){Gb()&&(function NH(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ni(n)&&function VH(t,e,n){const r=qt(e,t),i=YS(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Zl(t,Xl(t,i,null,o,r,e,null,t[Ms].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ml(n,e),Et(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Pi(e,t,a,n);Et(c,e),null!==o&&BH(0,a-i,c,u,0,o),Cn(u)&&(nn(n.index,e)[Be]=Pi(e,t,a,n))}}(t,e,n,qt(n,e)),64==(64&n.flags)&&tA(t,e,n))}function qg(t,e,n=qt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function YS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Wg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Wg(t,e,n,r,i,s,o,a,u,c,l){const d=J+r,h=d+i,f=function _H(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:q);return n}(d,h),p="function"==typeof c?c():c;return f[M]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let JS=t=>null;function XS(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?ZS(n,e,i,s):r.hasOwnProperty(i)&&ZS(n,e,r[i],s)}return n}function ZS(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Kg(t,e,n,r){if(Gb()){const i=null===r?null:{"":-1},s=function RH(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(mb(e,o.selectors,!1))if(r||(r=[]),Cn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Qg(t,e,a.length)}else r.unshift(o),Qg(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&eA(t,e,n,o,i,a),i&&function PH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new k(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=ya(n.mergedAttrs,n.attrs)}function eA(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Wp(ml(n,e),t,r[c].type);!function FH(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Ha(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=ya(n.mergedAttrs,l.hostAttrs),LH(t,n,e,u,l),OH(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function bH(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=XS(d.inputs,l,u,h?h.inputs:null),c=XS(d.outputs,l,c,p);const g=null===u||null===o||gb(e)?null:UH(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function tA(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function MU(){return V.lFrame.currentDirectiveIndex}();try{Ri(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Lp(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&kH(u,c)}}finally{Ri(-1),Lp(o)}}function kH(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Qg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function OH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Cn(e)&&(n[""]=t)}}function LH(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ki(i.type)),o=new ba(s,Cn(i),Q);t.blueprint[r]=o,n[r]=o,function xH(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function MH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Ha(t,n,i.hostVars,q),i)}function BH(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)nA(r,n,o[a++],o[a++],o[a++])}function nA(t,e,n,r,i){const s=nt(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{nt(s)}}function UH(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function rA(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function iA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Bp(n[r]),o.contentQueries(2,e[s],s)}}}function Zl(t,e){return t[Ia]?t[Eb][bn]=e:t[Ia]=e,t[Eb]=e,e}function Jg(t,e,n){Bp(0);const r=nt(null);try{e(t,n)}finally{nt(r)}}function uA(t,e){const n=t[Wr],r=n?n.get(Li,null):null;r&&r.handleError(e)}function Xg(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];nA(t.data[o],e[o],r,a,i)}}function vr(t,e,n){const r=function ll(t,e){return _e(e[t])}(e,t);!function UC(t,e,n){t.setValue(e,n)}(t[H],r,n)}function jH(t,e){const n=nn(e,t),r=n[M];!function $H(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ve];null!==i&&null===n[fr]&&(n[fr]=Og(i,n[Wr])),Zg(r,n,n[Be])}function Zg(t,e,n){Up(e);try{const r=t.viewQuery;null!==r&&Jg(1,r,n);const i=t.template;null!==i&&QS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&iA(t,e),t.staticViewQueries&&Jg(2,t.viewQuery,n);const s=t.components;null!==s&&function HH(t,e){for(let n=0;n<e.length;n++)jH(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[z]&=-5,jp()}}let cA=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=new oU(r,l=>{this.all.has(l)&&this.queue.set(l,o)},s);let u;this.all.add(a),a.notify();const c=()=>{a.cleanup(),u?.(),this.all.delete(a),this.queue.delete(a)};return u=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=de({token:t,providedIn:"root",factory:()=>new t}),e})();function ed(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=cp(i,a):2==s&&(r=cp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ga(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(_e(s)),zt(s)){for(let a=ht;a<s.length;a++){const u=s[a],c=u[M].firstChild;null!==c&&Ga(u[M],u,c,r)}s[Bn]!==s[Ve]&&r.push(s[Bn])}const o=n.type;if(8&o)Ga(t,e,n.child,r);else if(32&o){const a=ag(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=QC(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ra(e[Ue]);Ga(u[M],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function td(t,e,n,r=!0){const i=e[Ms],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{lA(t,e,t.template,n)}catch(u){throw r&&uA(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function lA(t,e,n,r){const i=e[z];if(256!=(256&i)){e[Ms].effectManager?.flush(),Up(e);try{Bb(e),function Wb(t){return V.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&QS(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&fl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&pl(e,c,0,null),$p(e,0)}if(function qH(t){for(let e=LC(t);null!==e;e=VC(e)){if(!e[Tb])continue;const n=e[Rs];for(let r=0;r<n.length;r++){yU(n[r])}}}(e),dA(e,2),null!==t.contentQueries&&iA(t,e),o){const c=t.contentCheckHooks;null!==c&&fl(e,c)}else{const c=t.contentHooks;null!==c&&pl(e,c,1),$p(e,1)}!function yH(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=qS(e,rl);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ri(~s);else{const o=s,a=n[++i],u=n[++i];xU(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[rl]&&WS(e,rl),Ri(-1)}}(t,e);const a=t.components;null!==a&&fA(e,a,0);const u=t.viewQuery;if(null!==u&&Jg(2,u,r),o){const c=t.viewCheckHooks;null!==c&&fl(e,c)}else{const c=t.viewHooks;null!==c&&pl(e,c,2),$p(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[z]&=-73,Ub(e)}finally{jp()}}}function dA(t,e){for(let n=LC(t);null!==n;n=VC(n))for(let r=ht;r<n.length;r++)hA(n[r],e)}function WH(t,e,n){hA(nn(e,t),n)}function hA(t,e){if(!function gU(t){return 128==(128&t[z])}(t))return;const n=t[M];if(80&t[z]&&0===e||1024&t[z]||2===e)lA(n,t,n.template,t[Be]);else if(t[va]>0){dA(t,1);const i=t[M].components;null!==i&&fA(t,i,1)}}function fA(t,e,n){for(let r=0;r<e.length;r++)WH(t,e[r],n)}class za{get rootNodes(){const e=this._lView,n=e[M];return Ga(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Be]}set context(e){this._lView[Be]=e}get destroyed(){return 256==(256&this._lView[z])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ce];if(zt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(xl(e,r),vl(n,r))}this._attachedToViewContainer=!1}cg(this._lView[M],this._lView)}onDestroy(e){!function $b(t,e){if(256==(256&t[z]))throw new k(911,!1);null===t[Kr]&&(t[Kr]=[]),t[Kr].push(e)}(this._lView,e)}markForCheck(){$a(this._cdRefInjectingView||this._lView)}detach(){this._lView[z]&=-129}reattach(){this._lView[z]|=128}detectChanges(){td(this._lView[M],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gj(t,e){Oa(t,e,e[H],2,null,null)}(this._lView[M],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}}class KH extends za{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;td(e[M],e,e[Be],!1)}checkNoChanges(){}get context(){return null}}class pA extends Wl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=te(e);return new qa(n,this.ngModule)}}function gA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class YH{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Xc(r);const i=this.injector.get(e,Vg,r);return i!==Vg||n===Vg?i:this.parentInjector.get(e,n,r)}}class qa extends CS{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=gA(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return gA(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function jB(t){return t.map(UB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof yr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new YH(e,s):e,a=o.get(AS,null);if(null===a)throw new k(407,!1);const d={rendererFactory:a,sanitizer:o.get(eH,null),effectManager:o.get(cA,null),afterRenderEventManager:o.get(jg,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function vH(t,e,n,r){const s=r.get(US,!1)||n===Dn.ShadowDom,o=t.selectRootElement(e,s);return function IH(t){JS(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Al(h,f,function QH(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),w=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=Og(p,o,!0));const T=Wg(0,null,null,1,0,null,null,null,null,null,null),N=Xl(null,T,null,w,null,null,d,h,o,null,_);let O,W;Up(N);try{const me=this.componentDef;let Mt,cr=null;me.findHostDirectiveDefs?(Mt=[],cr=new Map,me.findHostDirectiveDefs(me,Mt,cr),Mt.push(me)):Mt=[me];const b0=function XH(t,e){const n=t[M],r=J;return t[r]=e,ro(n,r,2,"#host",null)}(N,p),fie=function ZH(t,e,n,r,i,s,o){const a=i[M];!function e4(t,e,n,r){for(const i of t)e.mergedAttrs=ya(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(ed(e,e.mergedAttrs,!0),null!==n&&ZC(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=Og(e,i[Wr]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Xl(i,YS(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&Qg(a,t,r.length-1),Zl(i,d),i[t.index]=d}(b0,p,me,Mt,N,d,h);W=Vb(T,J),p&&function n4(t,e,n,r){if(r)Tp(t,n,["ng-version",MS.full]);else{const{attrs:i,classes:s}=function $B(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Tn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Tp(t,n,i),s&&s.length>0&&XC(t,n,s.join(" "))}}(h,me,p,r),void 0!==n&&function r4(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(W,this.ngContentSelectors,n),O=function t4(t,e,n,r,i,s){const o=ft(),a=i[M],u=qt(o,i);eA(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Et(Pi(i,a,o.directiveStart+l,o),i);tA(a,i,o),u&&Et(u,i);const c=Pi(i,a,o.directiveStart+o.componentOffset,o);if(t[Be]=i[Be]=c,null!==s)for(const l of s)l(c,e);return Gg(a,o,t),c}(fie,me,Mt,cr,N,[i4]),Zg(T,N,null)}finally{jp()}return new JH(this.componentType,O,Zs(W,N),N,W)}}class JH extends K${constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new KH(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Xg(s[M],s,i,e,n),this.previousInputValues.set(e,n),$a(nn(this._tNode.index,s))}}get injector(){return new Pt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function i4(){const t=ft();hl(E()[M],t)}function rd(t){return!!function em(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Dt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}let OA=function FA(t,e,n,r){return Yr(!0),e[H].createComment("")};function om(t,e,n){const r=E();return Dt(r,Fs(),e)&&function on(t,e,n,r,i,s,o,a){const u=qt(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Xg(t,n,l,r,i),Ni(e)&&function SH(t,e){const n=nn(e,t);16&n[z]||(n[z]|=64)}(n,e.index)):3&e.type&&(r=function CH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(ne(),function Me(){const t=V.lFrame;return Vb(t.tView,t.selectedIndex)}(),r,t,e,r[H],n,!1),om}function am(t,e,n,r,i){const o=i?"class":"style";Xg(t,n,e.inputs[o],o,r)}function Sn(t,e,n,r){const i=E(),s=ne(),o=J+t,a=i[H],u=s.firstCreatePass?function V4(t,e,n,r,i,s){const o=e.consts,u=ro(e,t,2,r,Qr(o,i));return Kg(e,n,u,Qr(o,s)),null!==u.attrs&&ed(u,u.attrs,!1),null!==u.mergedAttrs&&ed(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=VA(s,i,u,a,e,t);i[o]=c;const l=sl(u);return $n(u,!0),ZC(a,c,u),32!=(32&u.flags)&&dl()&&Nl(s,i,c,u),0===function vU(){return V.lFrame.elementDepthCount}()&&Et(c,i),function IU(){V.lFrame.elementDepthCount++}(),l&&(zg(s,i,u),Gg(s,u,i)),null!==r&&qg(i,u),Sn}function qn(){let t=ft();Op()?function Fp(){V.lFrame.isParent=!1}():(t=t.parent,$n(t,!1));const e=t;(function EU(t){return V.skipHydrationRootTNode===t})(e)&&function CU(){V.skipHydrationRootTNode=null}(),function wU(){V.lFrame.elementDepthCount--}();const n=ne();return n.firstCreatePass&&(hl(n,t),Cp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function jU(t){return 0!=(8&t.flags)}(e)&&am(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function $U(t){return 0!=(16&t.flags)}(e)&&am(n,e,E(),e.stylesWithoutHost,!1),qn}function um(t,e,n,r){return Sn(t,e,n,r),qn(),um}let VA=(t,e,n,r,i,s)=>(Yr(!0),Al(r,i,function tC(){return V.lFrame.currentNamespace}()));function dm(){return E()}function hm(t){return!!t&&"function"==typeof t.then}function jA(t){return!!t&&"function"==typeof t.subscribe}function ud(t,e,n,r){const i=E(),s=ne(),o=ft();return function HA(t,e,n,r,i,s,o){const a=sl(r),c=t.firstCreatePass&&function oA(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Be],d=function sA(t){return t[xs]||(t[xs]=[])}(e);let h=!0;if(3&r.type||o){const g=qt(r,e),y=o?o(g):g,w=d.length,_=o?N=>o(_e(N[r.index])):r.index;let T=null;if(!o&&a&&(T=function G4(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[xs],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,h=!1;else{s=zA(r,e,l,s,!1);const N=n.listen(y,i,s);d.push(s,N),c&&c.push(i,_,w,w+1)}}else s=zA(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const O=e[p[y]][p[y+1]].subscribe(s),W=d.length;d.push(s,O),c&&c.push(i,r.index,W,-(W+1))}}}(s,i,i[H],o,t,e,r),ud}function GA(t,e,n,r){try{return jn(6,e,n),!1!==n(r)}catch(i){return uA(t,i),!1}finally{jn(7,e,n)}}function zA(t,e,n,r,i){return function s(o){if(o===Function)return r;$a(t.componentOffset>-1?nn(t.index,e):e);let u=GA(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=GA(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function qA(t=1){return function kU(t){return(V.lFrame.contextLView=function RU(t,e){for(;t>0;)e=e[Ns],t--;return e}(t,V.lFrame.contextLView))[Be]}(t)}function ti(t,e=""){const n=E(),r=ne(),i=t+J,s=r.firstCreatePass?ro(r,i,1,e,null):r.data[i],o=yx(r,n,s,e,t);n[i]=o,dl()&&Nl(r,n,o,s),$n(s,!1)}let yx=(t,e,n,r,i)=>(Yr(!0),function Sl(t,e){return t.createText(e)}(e[H],r));function dd(t){return _m("",t,""),dd}function _m(t,e,n){const r=E(),i=function so(t,e,n,r){return Dt(t,Fs(),n)?e+$(n)+r:q}(r,t,e,n);return i!==q&&vr(r,Rt(),i),_m}const Ui=void 0;var LG=["en",[["a","p"],["AM","PM"],Ui],[["AM","PM"],Ui,Ui],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ui,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ui,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ui,"{1} 'at' {0}",Ui],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function FG(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let go={};function Ot(t){const e=function VG(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Vx(e);if(n)return n;const r=e.split("-")[0];if(n=Vx(r),n)return n;if("en"===r)return LG;throw new k(701,!1)}function Vx(t){return t in go||(go[t]=pe.ng&&pe.ng.common&&pe.ng.common.locales&&pe.ng.common.locales[t]),go[t]}var ve=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ve||{});const mo="en-US";let Bx=mo;class ji{}class V3{}class bm extends ji{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pA(this);const i=function tn(t,e){const n=t[ub]||null;if(!n&&!0===e)throw new Error(`Type ${Je(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function _r(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=OS(e,n,[{provide:ji,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver},...r],Je(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Cm extends V3{constructor(e){super(),this.moduleType=e}create(e){return new bm(this.moduleType,e,[])}}function _M(t,e,n,r,i,s){const o=e+n;return Dt(t,o,i)?function zn(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function ru(t,e){const n=t[e];return n===q?void 0:n}(t,o+1)}function TM(t,e,n){const r=t+J,i=E(),s=Ps(i,r);return function iu(t,e){return t[M].data[e].pure}(i,r)?_M(i,function kt(){const t=V.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,s):s.transform(n)}function Am(t){return e=>{setTimeout(t,void 0,e)}}const Ir=class fz extends Hc{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Am(s),i&&(i=Am(i)),o&&(o=Am(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof En&&e.add(a),a}};function mz(t,e,n,r=!0){const i=e[M];if(function qj(t,e,n,r){const i=ht+r,s=n.length;r>0&&(n[i-1][bn]=e),r<s-ht?(e[bn]=n[i],mC(n,ht+r,e)):(n.push(e),e[bn]=null),e[Ce]=n;const o=e[wa];null!==o&&n!==o&&function Wj(t,e){const n=t[Rs];e[Ue]!==e[Ce][Ce][Ue]&&(t[Tb]=!0),null===n?t[Rs]=[e]:n.push(e)}(o,e);const a=e[Vn];null!==a&&a.insertView(t),e[z]|=128}(i,e,t,n),r){const s=fg(n,t),o=e[H],a=Ml(o,t[Bn]);null!==a&&function Hj(t,e,n,r,i,s){r[Ve]=i,r[wt]=e,Oa(t,r,n,1,i,s)}(i,t[wt],o,e,a,s)}}let wr=(()=>{class e{}return e.__NG_ELEMENT_ID__=vz,e})();const yz=wr,_z=class extends yz{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function gz(t,e,n,r){const i=e.tView,a=Xl(t,i,n,4096&t[z]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[wa]=t[e.index];const c=t[Vn];return null!==c&&(a[Vn]=c.createEmbeddedView(i)),Zg(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new za(i)}};function vz(){return function md(t,e){return 4&t.type?new _z(e,t,Zs(t,e)):null}(ft(),E())}let Qn=(()=>{class e{}return e.__NG_ELEMENT_ID__=bz,e})();function bz(){return function NM(t,e){let n;const r=e[t.index];return zt(r)?n=r:(n=rA(r,e,null,t),e[t.index]=n,Zl(e,n)),kM(n,e,t,r),new xM(n,t,e)}(ft(),E())}const Cz=Qn,xM=class extends Cz{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zs(this._hostTNode,this._hostLView)}get injector(){return new Pt(this._hostTNode,this._hostLView)}get parentInjector(){const e=yl(this._hostTNode,this._hostLView);if(Gp(e)){const n=Sa(e,this._hostLView),r=Ca(e);return new Pt(n[M].data[r+8],n)}return new Pt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=MM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function xa(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new qa(te(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(yr,null);y&&(s=y)}te(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function mU(t){return zt(t[Ce])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ce],l=new xM(c,c[wt],c[Ce]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return mz(a,i,o,!r),e.attachToViewContainerRef(),mC(Mm(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=MM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=xl(this._lContainer,n);r&&(vl(Mm(this._lContainer),n),cg(r[M],r))}detach(e){const n=this._adjustIndex(e,-1),r=xl(this._lContainer,n);return r&&null!=vl(Mm(this._lContainer),n)?new za(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function MM(t){return t[8]}function Mm(t){return t[8]||(t[8]=[])}let kM=function RM(t,e,n,r){if(t[Bn])return;let i;i=8&n.type?_e(r):function Sz(t,e){const n=t[H],r=n.createComment(""),i=qt(e,t);return Oi(n,Ml(n,i),r,function Jj(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Bn]=i};const a6=new B("Application Initializer");let Um=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=ye(a6,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(hm(o))r.push(o);else if(jA(o)){const a=new Promise((u,c)=>{o.subscribe({complete:u,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Er=new B("LocaleId",{providedIn:"root",factory:()=>ye(Er,Z.Optional|Z.SkipSelf)||function c6(){return typeof $localize<"u"&&$localize.locale||mo}()});let h6=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new DV(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function sN(...t){}class Ne{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ir(!1),this.onMicrotaskEmpty=new Ir(!1),this.onStable=new Ir(!1),this.onError=new Ir(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function R6(){const t="function"==typeof pe.requestAnimationFrame;let e=pe[t?"requestAnimationFrame":"setTimeout"],n=pe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function F6(t){const e=()=>{!function O6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gm(t),t.isCheckStableRunning=!0,Hm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return oN(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),aN(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return oN(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),aN(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Gm(t),Hm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ne.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(Ne.isInAngularZone())throw new k(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,P6,sN,sN);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const P6={};function Hm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function oN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aN(t){t._nesting--,Hm(t)}class L6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ir,this.onMicrotaskEmpty=new Ir,this.onStable=new Ir,this.onError=new Ir}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const uN=new B("",{providedIn:"root",factory:cN});function cN(){const t=ye(Ne);let e=!0;return lB(new lt(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new lt(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Z0()))}const lN=new B(""),Id=new B("");let Wm,zm=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wm||(function V6(t){Wm=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Ne),Y(qm),Y(Id))},t.\u0275prov=de({token:t,factory:t.\u0275fac}),e})(),qm=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Wm?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),ni=null;const dN=new B("AllowMultipleToken"),Km=new B("PlatformDestroyListeners"),hN=new B("appBootstrapListener");function gN(t,e,n=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=Qm();if(!o||o.injector.get(dN,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function j6(t){if(ni&&!ni.get(dN,!1))throw new k(400,!1);(function fN(){!function iU(t){Mb=t}(()=>{throw new k(600,!1)})})(),ni=t;const e=t.get(yN);(function pN(t){t.get(IS,null)?.forEach(n=>n())})(t)}(function mN(t=[],e){return gn.create({name:e,providers:[{provide:bg,useValue:"platform"},{provide:Km,useValue:new Set([()=>ni=null])},...t]})}(a,r))}return function H6(t){const e=Qm();if(!e)throw new k(401,!1);return e}()}}function Qm(){return ni?.get(yN)??null}let yN=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function G6(t="zone.js",e){return"noop"===t?new L6:"zone.js"===t?new Ne(e):t}(i?.ngZone,function _N(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function U3(t,e,n){return new bm(t,e,n)}(r.moduleType,this.injector,function DN(t){return[{provide:Ne,useFactory:t},{provide:Fl,multi:!0,useFactory:()=>{const e=ye(q6,{optional:!0});return()=>e.initialize()}},{provide:EN,useFactory:z6},{provide:uN,useFactory:cN}]}(()=>s)),a=o.injector.get(Li,null);return s.runOutsideAngular(()=>{const u=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{wd(this._modules,o),u.unsubscribe()})}),function vN(t,e,n){try{const r=n();return hm(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const u=o.injector.get(Um);return u.runInitializers(),u.donePromise.then(()=>(function Ux(t){hn(t,"Expected localeId to be defined"),"string"==typeof t&&(Bx=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Er,mo)||mo),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=IN({},i);return function B6(t,e,n){const r=new Cm(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(au);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new k(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Km,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(gn))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function IN(t,e){return Array.isArray(e)?e.reduce(IN,t):{...t,...e}}let au=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ye(EN),this.zoneIsStable=ye(uN),this.componentTypes=[],this.components=[],this.isStable=ye(h6).hasPendingTasks.pipe(function hB(t,e){return jr((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe($r(r,u=>{i?.unsubscribe();let c=0;const l=s++;lr(t(u,l)).subscribe(i=$r(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}(r=>r?function dB(...t){return X0(t,Y0(t))}(!1):this.zoneIsStable),function fB(t,e=$c){return t=t??pB,jr((n,r)=>{let i,s=!0;n.subscribe($r(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Z0()),this._injector=ye(yr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof CS;if(!this._injector.get(Um).done)throw!s&&function _a(t){const e=te(t)||dt(t)||Nt(t);return null!==e&&e.standalone}(r),new k(405,!1);let a;a=s?r:this._injector.get(Wl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const u=function U6(t){return t.isBoundToModule}(a)?void 0:this._injector.get(ji),l=a.create(gn.NULL,[],i||a.selector,u),d=l.location.nativeElement,h=l.injector.get(lN,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),wd(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;wd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(hN,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>wd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new k(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function wd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const EN=new B("",{providedIn:"root",factory:()=>ye(Li).handleError.bind(void 0)});function z6(){const t=ye(Ne),e=ye(Li);return n=>t.runOutsideAngular(()=>e.handleError(n))}let q6=(()=>{var t;class e{constructor(){this.zone=ye(Ne),this.applicationRef=ye(au)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class SN{constructor(){}supports(e){return rd(e)}create(e){return new nq(e)}}const tq=(t,e)=>e;class nq{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||tq}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<xN(r,i,s)?n:r,a=xN(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!rd(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function m4(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new rq(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new AN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new AN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class rq{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iq{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class AN{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new iq,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xN(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function NN(){return new Td([new SN])}let Td=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||NN()),deps:[[e,new Zp,new sn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new k(901,!1)}}return(t=e).\u0275prov=de({token:t,providedIn:"root",factory:NN}),e})();const cq=gN(null,"core",[]);let lq=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(au))},t.\u0275mod=Mi({type:t}),t.\u0275inj=zr({}),e})(),ty=null;function ny(){return ty}class Dq{}const Hi=new B("DocumentToken");var Lt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Lt||{}),ge=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ge||{}),an=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(an||{}),je=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(je||{});function Sd(t,e){return _n(Ot(t)[ve.DateFormat],e)}function Ad(t,e){return _n(Ot(t)[ve.TimeFormat],e)}function xd(t,e){return _n(Ot(t)[ve.DateTimeFormat],e)}function yn(t,e){const n=Ot(t),r=n[ve.NumberSymbols][e];if(typeof r>"u"){if(e===je.CurrencyDecimal)return n[ve.NumberSymbols][je.Decimal];if(e===je.CurrencyGroup)return n[ve.NumberSymbols][je.Group]}return r}function jN(t){if(!t[ve.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ve.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _n(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function iy(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Bq=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,cu={},Uq=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Dr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Dr||{}),ae=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ae||{}),ue=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ue||{});function jq(t,e,n,r){let i=function Yq(t){if(GN(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,s=1,o=1]=t.split("-").map(a=>+a);return Md(i,s-1,o)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Bq))return function Jq(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(r)}const e=new Date(t);if(!GN(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Tr(n,e)||e;let a,o=[];for(;e;){if(a=Uq.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=HN(r,u),i=function Qq(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function Kq(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(HN(e,i)-i))}(i,r,!0));let c="";return o.forEach(l=>{const d=function Wq(t){if(oy[t])return oy[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ie(ue.Eras,ge.Abbreviated);break;case"GGGG":e=Ie(ue.Eras,ge.Wide);break;case"GGGGG":e=Ie(ue.Eras,ge.Narrow);break;case"y":e=We(ae.FullYear,1,0,!1,!0);break;case"yy":e=We(ae.FullYear,2,0,!0,!0);break;case"yyy":e=We(ae.FullYear,3,0,!1,!0);break;case"yyyy":e=We(ae.FullYear,4,0,!1,!0);break;case"Y":e=Pd(1);break;case"YY":e=Pd(2,!0);break;case"YYY":e=Pd(3);break;case"YYYY":e=Pd(4);break;case"M":case"L":e=We(ae.Month,1,1);break;case"MM":case"LL":e=We(ae.Month,2,1);break;case"MMM":e=Ie(ue.Months,ge.Abbreviated);break;case"MMMM":e=Ie(ue.Months,ge.Wide);break;case"MMMMM":e=Ie(ue.Months,ge.Narrow);break;case"LLL":e=Ie(ue.Months,ge.Abbreviated,Lt.Standalone);break;case"LLLL":e=Ie(ue.Months,ge.Wide,Lt.Standalone);break;case"LLLLL":e=Ie(ue.Months,ge.Narrow,Lt.Standalone);break;case"w":e=sy(1);break;case"ww":e=sy(2);break;case"W":e=sy(1,!0);break;case"d":e=We(ae.Date,1);break;case"dd":e=We(ae.Date,2);break;case"c":case"cc":e=We(ae.Day,1);break;case"ccc":e=Ie(ue.Days,ge.Abbreviated,Lt.Standalone);break;case"cccc":e=Ie(ue.Days,ge.Wide,Lt.Standalone);break;case"ccccc":e=Ie(ue.Days,ge.Narrow,Lt.Standalone);break;case"cccccc":e=Ie(ue.Days,ge.Short,Lt.Standalone);break;case"E":case"EE":case"EEE":e=Ie(ue.Days,ge.Abbreviated);break;case"EEEE":e=Ie(ue.Days,ge.Wide);break;case"EEEEE":e=Ie(ue.Days,ge.Narrow);break;case"EEEEEE":e=Ie(ue.Days,ge.Short);break;case"a":case"aa":case"aaa":e=Ie(ue.DayPeriods,ge.Abbreviated);break;case"aaaa":e=Ie(ue.DayPeriods,ge.Wide);break;case"aaaaa":e=Ie(ue.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":e=Ie(ue.DayPeriods,ge.Abbreviated,Lt.Standalone,!0);break;case"bbbb":e=Ie(ue.DayPeriods,ge.Wide,Lt.Standalone,!0);break;case"bbbbb":e=Ie(ue.DayPeriods,ge.Narrow,Lt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ie(ue.DayPeriods,ge.Abbreviated,Lt.Format,!0);break;case"BBBB":e=Ie(ue.DayPeriods,ge.Wide,Lt.Format,!0);break;case"BBBBB":e=Ie(ue.DayPeriods,ge.Narrow,Lt.Format,!0);break;case"h":e=We(ae.Hours,1,-12);break;case"hh":e=We(ae.Hours,2,-12);break;case"H":e=We(ae.Hours,1);break;case"HH":e=We(ae.Hours,2);break;case"m":e=We(ae.Minutes,1);break;case"mm":e=We(ae.Minutes,2);break;case"s":e=We(ae.Seconds,1);break;case"ss":e=We(ae.Seconds,2);break;case"S":e=We(ae.FractionalSeconds,1);break;case"SS":e=We(ae.FractionalSeconds,2);break;case"SSS":e=We(ae.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=kd(Dr.Short);break;case"ZZZZZ":e=kd(Dr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=kd(Dr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=kd(Dr.Long);break;default:return null}return oy[t]=e,e}(l);c+=d?d(i,n,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Md(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Tr(t,e){const n=function Sq(t){return Ot(t)[ve.LocaleId]}(t);if(cu[n]=cu[n]||{},cu[n][e])return cu[n][e];let r="";switch(e){case"shortDate":r=Sd(t,an.Short);break;case"mediumDate":r=Sd(t,an.Medium);break;case"longDate":r=Sd(t,an.Long);break;case"fullDate":r=Sd(t,an.Full);break;case"shortTime":r=Ad(t,an.Short);break;case"mediumTime":r=Ad(t,an.Medium);break;case"longTime":r=Ad(t,an.Long);break;case"fullTime":r=Ad(t,an.Full);break;case"short":const i=Tr(t,"shortTime"),s=Tr(t,"shortDate");r=Nd(xd(t,an.Short),[i,s]);break;case"medium":const o=Tr(t,"mediumTime"),a=Tr(t,"mediumDate");r=Nd(xd(t,an.Medium),[o,a]);break;case"long":const u=Tr(t,"longTime"),c=Tr(t,"longDate");r=Nd(xd(t,an.Long),[u,c]);break;case"full":const l=Tr(t,"fullTime"),d=Tr(t,"fullDate");r=Nd(xd(t,an.Full),[l,d])}return r&&(cu[n][e]=r),r}function Nd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Mn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function We(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function Hq(t,e){switch(t){case ae.FullYear:return e.getFullYear();case ae.Month:return e.getMonth();case ae.Date:return e.getDate();case ae.Hours:return e.getHours();case ae.Minutes:return e.getMinutes();case ae.Seconds:return e.getSeconds();case ae.FractionalSeconds:return e.getMilliseconds();case ae.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===ae.Hours)0===a&&-12===n&&(a=12);else if(t===ae.FractionalSeconds)return function $q(t,e){return Mn(t,3).substring(0,e)}(a,e);const u=yn(o,je.MinusSign);return Mn(a,e,u,r,i)}}function Ie(t,e,n=Lt.Format,r=!1){return function(i,s){return function Gq(t,e,n,r,i,s){switch(n){case ue.Months:return function Mq(t,e,n){const r=Ot(t),s=_n([r[ve.MonthsFormat],r[ve.MonthsStandalone]],e);return _n(s,n)}(e,i,r)[t.getMonth()];case ue.Days:return function xq(t,e,n){const r=Ot(t),s=_n([r[ve.DaysFormat],r[ve.DaysStandalone]],e);return _n(s,n)}(e,i,r)[t.getDay()];case ue.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const c=function Pq(t){const e=Ot(t);return jN(e),(e[ve.ExtraData][2]||[]).map(r=>"string"==typeof r?iy(r):[iy(r[0]),iy(r[1])])}(e),l=function Oq(t,e,n){const r=Ot(t);jN(r);const s=_n([r[ve.ExtraData][0],r[ve.ExtraData][1]],e)||[];return _n(s,n)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=o>=f.hours&&a>=f.minutes,y=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&y)return!0}else if(g||y)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function Aq(t,e,n){const r=Ot(t),s=_n([r[ve.DayPeriodsFormat],r[ve.DayPeriodsStandalone]],e);return _n(s,n)}(e,i,r)[o<12?0:1];case ue.Eras:return function Nq(t,e){return _n(Ot(t)[ve.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function kd(t){return function(e,n,r){const i=-1*r,s=yn(n,je.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Dr.Short:return(i>=0?"+":"")+Mn(o,2,s)+Mn(Math.abs(i%60),2,s);case Dr.ShortGMT:return"GMT"+(i>=0?"+":"")+Mn(o,1,s);case Dr.Long:return"GMT"+(i>=0?"+":"")+Mn(o,2,s)+":"+Mn(Math.abs(i%60),2,s);case Dr.Extended:return 0===r?"Z":(i>=0?"+":"")+Mn(o,2,s)+":"+Mn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const zq=0,Rd=4;function $N(t){return Md(t.getFullYear(),t.getMonth(),t.getDate()+(Rd-t.getDay()))}function sy(t,e=!1){return function(n,r){let i;if(e){const s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{const s=$N(n),o=function qq(t){const e=Md(t,zq,1).getDay();return Md(t,0,1+(e<=Rd?Rd:Rd+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Mn(i,t,yn(r,je.MinusSign))}}function Pd(t,e=!1){return function(n,r){return Mn($N(n).getFullYear(),t,yn(r,je.MinusSign),e)}}const oy={};function HN(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function GN(t){return t instanceof Date&&!isNaN(t.valueOf())}class h9{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let YN=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new h9(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,a),JN(u,s)}});for(let s=0,o=i.length;s<o;s++){const u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{JN(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(Qn),Q(wr),Q(Td))},t.\u0275dir=fn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function JN(t,e){t.context.$implicit=e.item}const S9=new B("DATE_PIPE_DEFAULT_TIMEZONE"),A9=new B("DATE_PIPE_DEFAULT_OPTIONS");let e1=(()=>{var t;class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(null==r||""===r||r!=r)return null;try{return jq(r,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,s??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw function Nn(t,e){return new k(2100,!1)}()}}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(Er,16),Q(S9,24),Q(A9,24))},t.\u0275pipe=Ht({name:"date",type:t,pure:!0,standalone:!0}),e})(),V9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mi({type:t}),t.\u0275inj=zr({}),e})();function r1(t){return"server"===t}class h5 extends Dq{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class vy extends h5{static makeCurrent(){!function Eq(t){ty||(ty=t)}(new vy)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function f5(){return hu=hu||document.querySelector("base"),hu?hu.getAttribute("href"):null}();return null==n?null:function p5(t){Vd=Vd||document.createElement("a"),Vd.setAttribute("href",t);const e=Vd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){hu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function c9(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Vd,hu=null,m5=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=de({token:t,factory:t.\u0275fac}),e})();const Iy=new B("EventManagerPlugins");let u1=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new k(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Iy),Y(Ne))},t.\u0275prov=de({token:t,factory:t.\u0275fac}),e})();class c1{constructor(e){this._doc=e}}const wy="ng-app-id";let l1=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=r1(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${wy}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(wy),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(wy,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Hi),Y(jl),Y(wS,8),Y(Zr))},t.\u0275prov=de({token:t,factory:t.\u0275fac}),e})();const Ey={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dy=/%COMP%/g,I5=new B("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function h1(t,e){return e.map(n=>n.replace(Dy,t))}let f1=(()=>{var t;class e{constructor(r,i,s,o,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=r1(u),this.defaultRenderer=new Ty(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Dn.ShadowDom&&(i={...i,encapsulation:Dn.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof g1?s.applyToHost(r):s instanceof by&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Dn.Emulated:o=new g1(c,l,i,this.appId,d,a,u,h);break;case Dn.ShadowDom:return new T5(c,l,r,i,a,u,this.nonce,h);default:o=new by(c,l,i,d,a,u,h)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(u1),Y(l1),Y(jl),Y(I5),Y(Hi),Y(Zr),Y(Ne),Y(wS))},t.\u0275prov=de({token:t,factory:t.\u0275fac}),e})();class Ty{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ey[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(p1(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(p1(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new k(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Ey[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Ey[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Jr.DashCase|Jr.Important)?e.style.setProperty(n,r,i&Jr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Jr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ny().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function p1(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class T5 extends Ty{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=h1(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class by extends Ty{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?h1(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class g1 extends by{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function w5(t){return"_ngcontent-%COMP%".replace(Dy,t)}(c),this.hostAttr=function E5(t){return"_nghost-%COMP%".replace(Dy,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let b5=(()=>{var t;class e extends c1{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Hi))},t.\u0275prov=de({token:t,factory:t.\u0275fac}),e})();const m1=["alt","control","meta","shift"],C5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},S5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let A5=(()=>{var t;class e extends c1{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ny().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),m1.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=C5[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),m1.forEach(a=>{a!==s&&(0,S5[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Hi))},t.\u0275prov=de({token:t,factory:t.\u0275fac}),e})();const _1=[{provide:Zr,useValue:"browser"},{provide:IS,useValue:function x5(){vy.makeCurrent()},multi:!0},{provide:Hi,useFactory:function N5(){return function s$(t){mg=t}(document),document},deps:[]}],k5=gN(cq,"browser",_1),R5=new B(""),v1=[{provide:Id,useClass:class g5{addToWindow(e){pe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new k(5103,!1);return s},pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),pe.getAllAngularRootElements=()=>e.getAllRootElements(),pe.frameworkStabilizers||(pe.frameworkStabilizers=[]),pe.frameworkStabilizers.push(r=>{const i=pe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ny().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:lN,useClass:zm,deps:[Ne,qm,Id]},{provide:zm,useClass:zm,deps:[Ne,qm,Id]}],I1=[{provide:bg,useValue:"root"},{provide:Li,useFactory:function M5(){return new Li},deps:[]},{provide:Iy,useClass:b5,multi:!0,deps:[Hi,Ne,Zr]},{provide:Iy,useClass:A5,multi:!0,deps:[Hi]},f1,l1,u1,{provide:AS,useExisting:f1},{provide:class H9{},useClass:m5,deps:[]},[]];let P5=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:jl,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(R5,12))},t.\u0275mod=Mi({type:t}),t.\u0275inj=zr({providers:[...I1,...v1],imports:[V9,lq]}),e})();function T1(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){T1(s,r,i,o,a,"next",u)}function a(u){T1(s,r,i,o,a,"throw",u)}o(void 0)})}}typeof window<"u"&&window;const b1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Ay={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new G5;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bd=function(t){return function(t){const e=b1(t);return Ay.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Ud=function(t){try{return Ay.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},jd=()=>{try{return function W5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ud(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},S1=()=>{var t;return null===(t=jd())||void 0===t?void 0:t.config};class $d{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function un(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xy(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Gi(){try{return"object"==typeof indexedDB}catch{return!1}}function fu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function My(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yn.prototype.create)}}class Yn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function s7(t,e){return t.replace(o7,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new kn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const o7=/\{\$([^}]+)}/g;function Ny(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(x1(s)&&x1(o)){if(!Ny(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function x1(t){return null!==t&&"object"==typeof t}function M1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class u7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function c7(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=ky),void 0===i.error&&(i.error=ky),void 0===i.complete&&(i.complete=ky);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ky(){}const l7=1e3,d7=2,h7=144e5,f7=.5;function Py(t,e=l7,n=d7){const r=e*Math.pow(n,t),i=Math.round(f7*r*(Math.random()-.5)*2);return Math.min(h7,r+i)}function vn(t){return t&&t._delegate?t._delegate:t}class Tt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zi="[DEFAULT]";class g7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $d;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function y7(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===zi?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Oy=[];var se=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(se||{});const N1={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},v7=se.INFO,I7={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},w7=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=I7[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Io{constructor(e){this.name=e,this._logLevel=v7,this._logHandler=w7,this._userLogHandler=null,Oy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?N1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const E7=(t,e)=>e.some(n=>t instanceof n);let k1,R1;const P1=new WeakMap,Fy=new WeakMap,O1=new WeakMap,Ly=new WeakMap,Vy=new WeakMap;let By={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Fy.get(t);if("objectStoreNames"===e)return t.objectStoreNames||O1.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function x7(t){return"function"==typeof t?function A7(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function T7(){return R1||(R1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Uy(this),e),ii(P1.get(this))}:function(...e){return ii(t.apply(Uy(this),e))}:function(e,...n){const r=t.call(Uy(this),e,...n);return O1.set(r,e.sort?e.sort():[e]),ii(r)}}(t):(t instanceof IDBTransaction&&function C7(t){if(Fy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fy.set(t,e)}(t),E7(t,function D7(){return k1||(k1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,By):t)}function ii(t){if(t instanceof IDBRequest)return function b7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ii(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&P1.set(n,t)}).catch(()=>{}),Vy.set(e,t),e}(t);if(Ly.has(t))return Ly.get(t);const e=x7(t);return e!==t&&(Ly.set(t,e),Vy.set(e,t)),e}const Uy=t=>Vy.get(t),N7=["get","getKey","getAll","getAllKeys","count"],k7=["put","add","delete","clear"],jy=new Map;function F1(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(jy.get(e))return jy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=k7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!N7.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return jy.set(e,s),s}!function S7(t){By=t(By)}(t=>({...t,get:(e,n,r)=>F1(e,n)||t.get(e,n,r),has:(e,n)=>!!F1(e,n)||t.has(e,n)}));class R7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function P7(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const $y="@firebase/app",qi=new Io("@firebase/app"),Gd="[DEFAULT]",oW={[$y]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wi=new Map,zd=new Map;function aW(t,e){try{t.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vt(t){const e=t.name;if(zd.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;zd.set(e,t);for(const n of Wi.values())aW(n,t);return!0}function qd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const br=new Yn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const pu="9.23.0";function V1(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Gd,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw br.create("bad-app-name",{appName:String(i)});if(n||(n=S1()),!n)throw br.create("no-options");const s=Wi.get(i);if(s){if(Ny(n,s.options)&&Ny(r,s.config))return s;throw br.create("duplicate-app",{appName:i})}const o=new _7(i);for(const u of zd.values())o.addComponent(u);const a=new cW(n,r,o);return Wi.set(i,a),a}function B1(t=Gd){const e=Wi.get(t);if(!e&&t===Gd&&S1())return V1();if(!e)throw br.create("no-app",{appName:t});return e}function U1(){return Array.from(Wi.values())}function $e(t,e,n){var r;let i=null!==(r=oW[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void qi.warn(a.join(" "))}Vt(new Tt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const lW="firebase-heartbeat-database",dW=1,gu="firebase-heartbeat-store";let Gy=null;function j1(){return Gy||(Gy=function M7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ii(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ii(o.result),u.oldVersion,u.newVersion,ii(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(lW,dW,{upgrade:(t,e)=>{0===e&&t.createObjectStore(gu)}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),Gy}function zy(){return(zy=m(function*(t){try{return yield(yield j1()).transaction(gu).objectStore(gu).get(H1(t))}catch(e){if(e instanceof kn)qi.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e?.message});qi.warn(n.message)}}})).apply(this,arguments)}function $1(t,e){return qy.apply(this,arguments)}function qy(){return(qy=m(function*(t,e){try{const r=(yield j1()).transaction(gu,"readwrite");yield r.objectStore(gu).put(e,H1(t)),yield r.done}catch(n){if(n instanceof kn)qi.warn(n.message);else{const r=br.create("idb-set",{originalErrorMessage:n?.message});qi.warn(r.message)}}})).apply(this,arguments)}function H1(t){return`${t.name}!${t.options.appId}`}class gW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=G1();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=G1(),{heartbeatsToSend:r,unsentEntries:i}=function mW(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),z1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),z1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Bd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function G1(){return(new Date).toISOString().substring(0,10)}class yW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Gi()&&fu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function hW(t){return zy.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return $1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return $1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function z1(t){return Bd(JSON.stringify({version:2,heartbeats:t})).length}!function _W(t){Vt(new Tt("platform-logger",e=>new R7(e),"PRIVATE")),Vt(new Tt("heartbeat",e=>new gW(e),"PRIVATE")),$e($y,"0.9.13",t),$e($y,"0.9.13","esm2017"),$e("fire-js","")}(""),$e("firebase","9.23.0","app");const wW=(t,e)=>e.some(n=>t instanceof n);let q1,W1;const K1=new WeakMap,Wy=new WeakMap,Q1=new WeakMap,Ky=new WeakMap,Qy=new WeakMap;let Yy={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Wy.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Q1.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function AW(t){return"function"==typeof t?function SW(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function DW(){return W1||(W1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Jy(this),e),si(K1.get(this))}:function(...e){return si(t.apply(Jy(this),e))}:function(e,...n){const r=t.call(Jy(this),e,...n);return Q1.set(r,e.sort?e.sort():[e]),si(r)}}(t):(t instanceof IDBTransaction&&function bW(t){if(Wy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wy.set(t,e)}(t),wW(t,function EW(){return q1||(q1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Yy):t)}function si(t){if(t instanceof IDBRequest)return function TW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&K1.set(n,t)}).catch(()=>{}),Qy.set(e,t),e}(t);if(Ky.has(t))return Ky.get(t);const e=AW(t);return e!==t&&(Ky.set(t,e),Qy.set(e,t)),e}const Jy=t=>Qy.get(t),MW=["get","getKey","getAll","getAllKeys","count"],NW=["put","add","delete","clear"],Xy=new Map;function Y1(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Xy.get(e))return Xy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=NW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!MW.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Xy.set(e,s),s}!function CW(t){Yy=t(Yy)}(t=>({...t,get:(e,n,r)=>Y1(e,n)||t.get(e,n,r),has:(e,n)=>!!Y1(e,n)||t.has(e,n)}));const J1="@firebase/installations",Zy="0.6.4",X1=1e4,Z1=`w:${Zy}`,ek="FIS_v2",kW="https://firebaseinstallations.googleapis.com/v1",RW=36e5,Cr=new Yn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tk(t){return t instanceof kn&&t.code.includes("request-failed")}function e_({projectId:t}){return`${kW}/projects/${t}/installations`}function nk(t){return{token:t.token,requestStatus:2,expiresIn:LW(t.expiresIn),creationTime:Date.now()}}function t_(t,e){return n_.apply(this,arguments)}function n_(){return(n_=m(function*(t,e){const r=(yield e.json()).error;return Cr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function rk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function r_(t){return i_.apply(this,arguments)}function i_(){return(i_=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function LW(t){return Number(t.replace("s","000"))}function s_(){return(s_=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=e_(t),i=rk(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:ek,appId:t.appId,sdkVersion:Z1})},u=yield r_(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:nk(c.authToken)}}throw yield t_("Create Installation",u)})).apply(this,arguments)}function sk(t){return new Promise(e=>{setTimeout(e,t)})}const jW=/^[cdef][\w-]{21}$/,o_="";function $W(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function HW(t){return function UW(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return jW.test(n)?n:o_}catch{return o_}}function wo(t){return`${t.appName}!${t.appId}`}const Eo=new Map;function ok(t,e){const n=wo(t);ak(n,e),function qW(t,e){const n=function uk(){return!Ki&&"BroadcastChannel"in self&&(Ki=new BroadcastChannel("[Firebase] FID Change"),Ki.onmessage=t=>{ak(t.data.key,t.data.fid)}),Ki}();n&&n.postMessage({key:t,fid:e}),function ck(){0===Eo.size&&Ki&&(Ki.close(),Ki=null)}()}(n,e)}function ak(t,e){const n=Eo.get(t);if(n)for(const r of n)r(e)}let Ki=null;const WW="firebase-installations-database",KW=1,Qi="firebase-installations-store";let a_=null;function u_(){return a_||(a_=function xW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=si(o);return r&&o.addEventListener("upgradeneeded",u=>{r(si(o.result),u.oldVersion,u.newVersion,si(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(WW,KW,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Qi)}})),a_}function Wd(t,e){return c_.apply(this,arguments)}function c_(){return(c_=m(function*(t,e){const n=wo(t),i=(yield u_()).transaction(Qi,"readwrite"),s=i.objectStore(Qi),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&ok(t,e.fid),e})).apply(this,arguments)}function l_(t){return d_.apply(this,arguments)}function d_(){return(d_=m(function*(t){const e=wo(t),r=(yield u_()).transaction(Qi,"readwrite");yield r.objectStore(Qi).delete(e),yield r.done})).apply(this,arguments)}function mu(t,e){return h_.apply(this,arguments)}function h_(){return(h_=m(function*(t,e){const n=wo(t),i=(yield u_()).transaction(Qi,"readwrite"),s=i.objectStore(Qi),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&ok(t,a.fid),a})).apply(this,arguments)}function f_(t){return p_.apply(this,arguments)}function p_(){return p_=m(function*(t){let e;const n=yield mu(t.appConfig,r=>{const i=function QW(t){return dk(t||{fid:$W(),registrationStatus:0})}(r),s=function YW(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Cr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function JW(t,e){return g_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:XW(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===o_?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),p_.apply(this,arguments)}function g_(){return g_=m(function*(t,e){try{const n=yield function BW(t,e){return s_.apply(this,arguments)}(t,e);return Wd(t.appConfig,n)}catch(n){throw tk(n)&&409===n.customData.serverCode?yield l_(t.appConfig):yield Wd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),g_.apply(this,arguments)}function XW(t){return m_.apply(this,arguments)}function m_(){return(m_=m(function*(t){let e=yield lk(t.appConfig);for(;1===e.registrationStatus;)yield sk(100),e=yield lk(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield f_(t);return r||n}return e})).apply(this,arguments)}function lk(t){return mu(t,e=>{if(!e)throw Cr.create("installation-not-found");return dk(e)})}function dk(t){return function ZW(t){return 1===t.registrationStatus&&t.registrationTime+X1<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function y_(){return(y_=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function t8(t,{fid:e}){return`${e_(t)}/${e}/authTokens:generate`}(t,n),i=function ik(t,{refreshToken:e}){const n=rk(t);return n.append("Authorization",function VW(t){return`${ek} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Z1,appId:t.appId}})},u=yield r_(()=>fetch(r,a));if(u.ok)return nk(yield u.json());throw yield t_("Generate Auth Token",u)})).apply(this,arguments)}function __(t){return v_.apply(this,arguments)}function v_(){return v_=m(function*(t,e=!1){let n;const r=yield mu(t.appConfig,s=>{if(!fk(s))throw Cr.create("not-registered");const o=s.authToken;if(!e&&function i8(t){return 2===t.requestStatus&&!function s8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+RW}(t)}(o))return s;if(1===o.requestStatus)return n=function n8(t,e){return I_.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Cr.create("app-offline");const a=function o8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function r8(t,e){return w_.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),v_.apply(this,arguments)}function I_(){return(I_=m(function*(t,e){let n=yield hk(t.appConfig);for(;1===n.authToken.requestStatus;)yield sk(100),n=yield hk(t.appConfig);const r=n.authToken;return 0===r.requestStatus?__(t,e):r})).apply(this,arguments)}function hk(t){return mu(t,e=>{if(!fk(e))throw Cr.create("not-registered");return function a8(t){return 1===t.requestStatus&&t.requestTime+X1<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function w_(){return w_=m(function*(t,e){try{const n=yield function e8(t,e){return y_.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Wd(t.appConfig,r),n}catch(n){if(!tk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Wd(t.appConfig,r)}else yield l_(t.appConfig);throw n}}),w_.apply(this,arguments)}function fk(t){return void 0!==t&&2===t.registrationStatus}function E_(){return(E_=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield f_(e);return r?r.catch(console.error):__(e).catch(console.error),n.fid})).apply(this,arguments)}function D_(){return D_=m(function*(t,e=!1){const n=t;return yield function l8(t){return T_.apply(this,arguments)}(n),(yield __(n,e)).token}),D_.apply(this,arguments)}function T_(){return(T_=m(function*(t){const{registrationPromise:e}=yield f_(t);e&&(yield e)})).apply(this,arguments)}function S_(t){return Cr.create("missing-app-config-values",{valueName:t})}const pk="installations",g8=t=>{const e=t.getProvider("app").getImmediate(),n=function f8(t){if(!t||!t.options)throw S_("App Configuration");if(!t.name)throw S_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw S_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:qd(e,"heartbeat"),_delete:()=>Promise.resolve()}},m8=t=>{const n=qd(t.getProvider("app").getImmediate(),pk).getImmediate();return{getId:()=>function u8(t){return E_.apply(this,arguments)}(n),getToken:i=>function c8(t){return D_.apply(this,arguments)}(n,i)}};(function y8(){Vt(new Tt(pk,g8,"PUBLIC")),Vt(new Tt("installations-internal",m8,"PRIVATE"))})(),$e(J1,Zy),$e(J1,Zy,"esm2017");const A_="@firebase/remote-config",Yt=new Yn("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class A8{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function x8(t=navigator){return t.languages&&t.languages[0]||t.language}class M8{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:x8()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",_(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),Yt.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw Yt.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw Yt.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class R8{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function N8(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Yt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function k8(t){if(!(t instanceof kn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Py(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class F8{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qd(t,e){const n=t.target.error||void 0;return Yt.create(e,{originalErrorMessage:n&&n?.message})}const Yi="app_namespace_store";class U8{constructor(e,n,r,i=function B8(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Qd(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Yi,{keyPath:"compositeKey"})}}catch(n){e(Yt.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Yi],"readonly").objectStore(Yi),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Qd(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Yt.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Yi],"readwrite").objectStore(Yi),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Qd(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Yt.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Yi],"readwrite").objectStore(Yi),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Qd(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Yt.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class j8{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function H8(){return R_.apply(this,arguments)}function R_(){return(R_=m(function*(){if(!Gi())return!1;try{return yield fu()}catch{return!1}})).apply(this,arguments)}!function $8(){Vt(new Tt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Yt.create("registration-window");if(!Gi())throw Yt.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Yt.create("registration-project-id");if(!o)throw Yt.create("registration-api-key");if(!a)throw Yt.create("registration-app-id");const u=new U8(a,r.name,n=n||"firebase"),c=new j8(u),l=new Io(A_);l.logLevel=se.ERROR;const d=new M8(i,pu,n,s,o,a),h=new R8(d,u),f=new A8(h,u,c,l),p=new F8(r,f,c,u,l);return function b8(t){const e=vn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),$e(A_,"0.4.4"),$e(A_,"0.4.4","esm2017")}();const G8=(t,e)=>e.some(n=>t instanceof n);let _k,vk;const Ik=new WeakMap,P_=new WeakMap,wk=new WeakMap,O_=new WeakMap,F_=new WeakMap;let L_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return P_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||wk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function J8(t){return"function"==typeof t?function Y8(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function q8(){return vk||(vk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(V_(this),e),Sr(Ik.get(this))}:function(...e){return Sr(t.apply(V_(this),e))}:function(e,...n){const r=t.call(V_(this),e,...n);return wk.set(r,e.sort?e.sort():[e]),Sr(r)}}(t):(t instanceof IDBTransaction&&function K8(t){if(P_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});P_.set(t,e)}(t),G8(t,function z8(){return _k||(_k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,L_):t)}function Sr(t){if(t instanceof IDBRequest)return function W8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Sr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ik.set(n,t)}).catch(()=>{}),F_.set(e,t),e}(t);if(O_.has(t))return O_.get(t);const e=J8(t);return e!==t&&(O_.set(t,e),F_.set(e,t)),e}const V_=t=>F_.get(t);function Ek(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Sr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Sr(o.result),u.oldVersion,u.newVersion,Sr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function B_(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Sr(n).then(()=>{})}const X8=["get","getKey","getAll","getAllKeys","count"],Z8=["put","add","delete","clear"],U_=new Map;function Dk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(U_.get(e))return U_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Z8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!X8.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return U_.set(e,s),s}!function Q8(t){L_=t(L_)}(t=>({...t,get:(e,n,r)=>Dk(e,n)||t.get(e,n,r),has:(e,n)=>!!Dk(e,n)||t.has(e,n)}));const eK="/firebase-messaging-sw.js",tK="/firebase-cloud-messaging-push-scope",Tk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nK="https://fcmregistrations.googleapis.com/v1",bk="google.c.a.c_id",rK="google.c.a.c_l",iK="google.c.a.ts";var Yd=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Yd||{});function Ar(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function aK(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const j_="fcm_token_details_db",uK=5,Ck="fcm_token_object_Store";function $_(){return $_=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(j_))return null;let e=null;return(yield Ek(j_,uK,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(Ck))return;const c=a.objectStore(Ck),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ar(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ar(d.auth),p256dh:Ar(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ar(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ar(d.auth),p256dh:Ar(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ar(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield B_(j_),yield B_("fcm_vapid_details_db"),yield B_("undefined"),function lK(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),$_.apply(this,arguments)}const dK="firebase-messaging-database",hK=1,Ji="firebase-messaging-store";let H_=null;function G_(){return H_||(H_=Ek(dK,hK,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ji)}})),H_}function Sk(t){return z_.apply(this,arguments)}function z_(){return z_=m(function*(t){const e=Q_(t),r=yield(yield G_()).transaction(Ji).objectStore(Ji).get(e);if(r)return r;{const i=yield function cK(t){return $_.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield q_(t,i),i}}),z_.apply(this,arguments)}function q_(t,e){return W_.apply(this,arguments)}function W_(){return(W_=m(function*(t,e){const n=Q_(t),i=(yield G_()).transaction(Ji,"readwrite");return yield i.objectStore(Ji).put(e,n),yield i.done,e})).apply(this,arguments)}function K_(){return(K_=m(function*(t){const e=Q_(t),r=(yield G_()).transaction(Ji,"readwrite");yield r.objectStore(Ji).delete(e),yield r.done})).apply(this,arguments)}function Q_({appConfig:t}){return t.appId}const pt=new Yn("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function gK(t,e){return Y_.apply(this,arguments)}function Y_(){return(Y_=m(function*(t,e){const n=yield ev(t),r=xk(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Z_(t.appConfig),i)).json()}catch(o){throw pt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw pt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw pt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function J_(){return(J_=m(function*(t,e){const n=yield ev(t),r=xk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Z_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw pt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw pt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw pt.create("token-update-no-token");return s.token})).apply(this,arguments)}function Ak(t,e){return X_.apply(this,arguments)}function X_(){return(X_=m(function*(t,e){const r={method:"DELETE",headers:yield ev(t)};try{const s=yield(yield fetch(`${Z_(t.appConfig)}/${e}`,r)).json();if(s.error)throw pt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw pt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Z_({projectId:t}){return`${nK}/projects/${t}/registrations`}function ev(t){return tv.apply(this,arguments)}function tv(){return(tv=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function xk({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Tk&&(i.web.applicationPubKey=r),i}const yK=6048e5;function nv(){return nv=m(function*(t){const e=yield function IK(t,e){return ov.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ar(e.getKey("auth")),p256dh:Ar(e.getKey("p256dh"))},r=yield Sk(t.firebaseDependencies);if(r){if(function wK(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+yK?function vK(t,e){return iv.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Ak(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Nk(t.firebaseDependencies,n)}return Nk(t.firebaseDependencies,n)}),nv.apply(this,arguments)}function rv(){return rv=m(function*(t){const e=yield Sk(t.firebaseDependencies);e&&(yield Ak(t.firebaseDependencies,e.token),yield function fK(t){return K_.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),rv.apply(this,arguments)}function iv(){return iv=m(function*(t,e){try{const n=yield function mK(t,e){return J_.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield q_(t.firebaseDependencies,r),n}catch(n){throw yield function Mk(t){return rv.apply(this,arguments)}(t),n}}),iv.apply(this,arguments)}function Nk(t,e){return sv.apply(this,arguments)}function sv(){return(sv=m(function*(t,e){const r={token:yield gK(t,e),createTime:Date.now(),subscriptionOptions:e};return yield q_(t,r),r.token})).apply(this,arguments)}function ov(){return(ov=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:aK(e)})})).apply(this,arguments)}function kk(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function EK(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function DK(t,e){e.data&&(t.data=e.data)}(e,t),function TK(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function Rk(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function av(t){return pt.create("missing-app-config-values",{valueName:t})}Rk("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Rk("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class SK{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function CK(t){if(!t||!t.options)throw av("App Configuration Object");if(!t.name)throw av("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw av(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function uv(){return(uv=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(eK,{scope:tK}),t.swRegistration.update().catch(()=>{})}catch(e){throw pt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function cv(){return(cv=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function Pk(t){return uv.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw pt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function lv(){return(lv=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Tk)})).apply(this,arguments)}function dv(){return dv=m(function*(t,e){if(!navigator)throw pt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pt.create("permission-blocked");return yield function xK(t,e){return lv.apply(this,arguments)}(t,e?.vapidKey),yield function AK(t,e){return cv.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function _K(t){return nv.apply(this,arguments)}(t)}),dv.apply(this,arguments)}function hv(){return(hv=m(function*(t,e,n){const r=function NK(t){switch(t){case Yd.NOTIFICATION_CLICKED:return"notification_open";case Yd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[bk],message_name:n[rK],message_time:n[iK],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fv(){return fv=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Yd.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(kk(n)):t.onMessageHandler.next(kk(n)));const r=n.data;(function bK(t){return"object"==typeof t&&!!t&&bk in t})(r)&&"1"===r["google.c.a.e"]&&(yield function MK(t,e,n){return hv.apply(this,arguments)}(t,n.messageType,r))}),fv.apply(this,arguments)}const Fk="@firebase/messaging",RK=t=>{const e=new SK(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function kK(t,e){return fv.apply(this,arguments)}(e,n)),e},PK=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function Ok(t,e){return dv.apply(this,arguments)}(e,r)}};function Vk(){return pv.apply(this,arguments)}function pv(){return(pv=m(function*(){try{yield fu()}catch{return!1}return typeof window<"u"&&Gi()&&My()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function OK(){Vt(new Tt("messaging",RK,"PUBLIC")),Vt(new Tt("messaging-internal",PK,"PRIVATE")),$e(Fk,"0.12.4"),$e(Fk,"0.12.4","esm2017")}();const Jd="analytics",VK="firebase_id",BK="origin",UK=6e4,jK="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yv="https://www.googletagmanager.com/gtag/js",rt=new Io("@firebase/analytics"),Bt=new Yn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function HK(t){if(!t.startsWith(yv)){const e=Bt.create("invalid-gtag-resource",{gtagURL:t});return rt.warn(e.message),""}return t}function Bk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function _v(){return(_v=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield Bk(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){rt.error(a)}t("config",i,s)})).apply(this,arguments)}function vv(){return(vv=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield Bk(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){rt.error(s)}})).apply(this,arguments)}const XK=30,Uk=new class eQ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function tQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Iv(){return(Iv=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:tQ(r)},s=jK.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Bt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function wv(){return(wv=m(function*(t,e=Uk,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Bt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Bt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new oQ;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:UK),jk({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function jk(t,e,n){return Ev.apply(this,arguments)}function Ev(){return Ev=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Uk){var s;const{appId:o,measurementId:a}=t;try{yield function iQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Bt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function nQ(t){return Iv.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function sQ(t){if(!(t instanceof kn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Py(n,i.intervalMillis,XK):Py(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),rt.debug(`Calling attemptFetch again in ${l} millis`),jk(t,d,r,i)}}),Ev.apply(this,arguments)}class oQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Dv,Mv;function Tv(){return(Tv=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Nv(){return(Nv=m(function*(){if(!Gi())return rt.warn(Bt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield fu()}catch(t){return rt.warn(Bt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function kv(){return kv=m(function*(t,e,n,r,i,s,o){var a;const u=function rQ(t){return wv.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&rt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>rt.error(f)),e.push(u);const c=function fQ(){return Nv.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function JK(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(yv)&&n.src.includes(t))return n;return null})(s)||function zK(t,e){const n=function GK(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:HK}),r=document.createElement("script"),i=`${yv}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),Mv&&(i("consent","default",Mv),function $k(t){Mv=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[BK]="firebase",h.update=!0,null!=d&&(h[VK]=d),i("config",l.measurementId,h),Dv&&(i("set",Dv),function Hk(t){Dv=t}(void 0)),l.measurementId}),kv.apply(this,arguments)}class gQ{constructor(e){this.app=e}_delete(){return delete Jn[this.app.options.appId],Promise.resolve()}}let Jn={},Gk=[];const zk={};let Wk,Xn,Xd="dataLayer",Rv=!1;function yQ(t,e,n){!function mQ(){const t=[];if(xy()&&t.push("This is a browser extension environment."),My()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Bt.create("invalid-analytics-context",{errorInfo:e});rt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Bt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Bt.create("no-api-key");rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jn[r])throw Bt.create("already-exists",{id:r});if(!Rv){!function qK(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Xd);const{wrappedGtag:s,gtagCore:o}=function YK(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function QK(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function KK(t,e,n,r,i){return vv.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function WK(t,e,n,r,i,s){return _v.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){rt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Jn,Gk,zk,Xd,"gtag");Xn=s,Wk=o,Rv=!0}return Jn[r]=function pQ(t,e,n,r,i,s,o){return kv.apply(this,arguments)}(t,Gk,zk,e,Wk,Xd,n),new gQ(t)}function vQ(){return Pv.apply(this,arguments)}function Pv(){return(Pv=m(function*(){if(xy()||!My()||!Gi())return!1;try{return yield fu()}catch{return!1}})).apply(this,arguments)}const Kk="@firebase/analytics";!function wQ(){Vt(new Tt(Jd,(e,{options:n})=>yQ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Vt(new Tt("analytics-internal",function t(e){try{const n=e.getProvider(Jd).getImmediate();return{logEvent:(r,i,s)=>function IQ(t,e,n,r){t=vn(t),function aQ(t,e,n,r,i){return Tv.apply(this,arguments)}(Xn,Jn[t.app.options.appId],e,n,r).catch(i=>rt.error(i))}(n,r,i,s)}}catch(n){throw Bt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),$e(Kk,"0.10.0"),$e(Kk,"0.10.0","esm2017")}();class EQ extends En{constructor(e,n){super()}schedule(e,n=0){return this}}const Zd={setInterval(t,e,...n){const{delegate:r}=Zd;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Zd;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class Yk extends EQ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Zd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Zd.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ss(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const Jk={now:()=>(Jk.delegate||Date).now(),delegate:void 0};class yu{constructor(e,n=yu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}yu.now=Jk.now;class Xk extends yu{constructor(e,n=yu.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const bQ=new class TQ extends Xk{}(class DQ extends Yk{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),CQ=new Xk(Yk),Fv=new Kl("7.6.1"),Lv="__angularfire_symbol__analyticsIsSupportedValue",Vv="__angularfire_symbol__analyticsIsSupported",Bv="__angularfire_symbol__remoteConfigIsSupportedValue",Uv="__angularfire_symbol__remoteConfigIsSupported",jv="__angularfire_symbol__messagingIsSupportedValue",$v="__angularfire_symbol__messagingIsSupported";globalThis[Vv]||(globalThis[Vv]=vQ().then(t=>globalThis[Lv]=t).catch(()=>globalThis[Lv]=!1)),globalThis[$v]||(globalThis[$v]=Vk().then(t=>globalThis[jv]=t).catch(()=>globalThis[jv]=!1)),globalThis[Uv]||(globalThis[Uv]=H8().then(t=>globalThis[Bv]=t).catch(()=>globalThis[Bv]=!1));const zv=(t,e)=>{const n=e?[e]:U1(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Do(){}class Zk{constructor(e,n=bQ){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class AQ{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Do,{},Do,Do)),n.pipe(function SQ(t,e,n){const r=xe(t)||e||n?{next:t,error:e,complete:n}:t;return r?jr((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe($r(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):$c}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let eR=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Zk(Zone.current)),this.insideAngular=n.run(()=>new Zk(Zone.current,CQ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(Y(Ne))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Xi(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Zi(t){return Xi().ngZone.run(()=>t())}function MQ(t){return Xi(),function NQ(t){return function(n){return(n=n.lift(new AQ(t.ngZone))).pipe(zc(t.outsideAngular),Gc(t.insideAngular))}}(Xi())(t)}const kQ=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Zi(()=>t.apply(void 0,r))},es=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Zi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Do,{},Do,Do)))),r[s]=kQ(r[s],n));const i=function xQ(t){return Xi().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof lt){const s=Xi();return i.pipe(zc(s.outsideAngular),Gc(s.insideAngular))}return Zi(()=>i)}return i instanceof lt?i.pipe(MQ):i instanceof Promise?Zi(()=>new Promise((s,o)=>i.then(a=>Zi(()=>s(a)),a=>Zi(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Zi(()=>i)};class To{constructor(e){return e}}class tR{constructor(){return U1()}}const qv=new B("angularfire2._apps"),PQ={provide:To,useFactory:function RQ(t){return t&&1===t.length?t[0]:new To(B1())},deps:[[new sn,qv]]},OQ={provide:tR,deps:[[new sn,qv]]};function FQ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new To(r)}}let LQ=(()=>{class t{constructor(n){$e("angularfire",Fv.full,"core"),$e("angularfire",Fv.full,"app"),$e("angular",MS.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(Y(Zr))},t.\u0275mod=Mi({type:t}),t.\u0275inj=zr({providers:[PQ,OQ]}),t})();function VQ(t,...e){return{ngModule:LQ,providers:[{provide:qv,useFactory:FQ(t),multi:!0,deps:[Ne,gn,eR,...e]}]}}const BQ=es(V1,!0);const UQ=function nR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rR=new Yn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),eh=new Io("@firebase/auth");function th(t,...e){eh.logLevel<=se.ERROR&&eh.error(`Auth (${pu}): ${t}`,...e)}function Jt(t,...e){throw Wv(t,...e)}function Zn(t,...e){return Wv(t,...e)}function Wv(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rR.create(t,...e)}function C(t,e,...n){if(!t)throw Wv(e,...n)}function er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw th(e),new Error(e)}function oi(t,e){t||er(e)}function sR(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=function t7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}()||function r7(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function $Q(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Kv(){return"http:"===sR()||"https:"===sR()}()||xy()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class oR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},zQ=new vu(3e4,6e4);function Pe(t,e,n,r){return Yv.apply(this,arguments)}function Yv(){return(Yv=m(function*(t,e,n,r,i={}){return aR(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=M1(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),oR.fetch()(uR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function aR(t,e,n){return Jv.apply(this,arguments)}function Jv(){return(Jv=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GQ),e);try{const i=new qQ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Iu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Iu(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Iu(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Iu(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function iR(t,e,n){const r=Object.assign(Object.assign({},UQ()),{[e]:n});return new Yn("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Jt(t,l)}}catch(i){if(i instanceof kn)throw i;Jt(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function uR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function Qv(t,e){oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class qQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),zQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Iu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zn(t,e,r);return i.customData._tokenResponse=n,i}function Zv(){return(Zv=m(function*(t,e){return Pe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function tI(){return(tI=m(function*(t,e){return Pe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function nI(){return(nI=m(function*(t,e=!1){const n=vn(t),r=yield n.getIdToken(e),i=nh(r);C(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:wu(rI(i.auth_time)),issuedAtTime:wu(rI(i.iat)),expirationTime:wu(rI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function rI(t){return 1e3*Number(t)}function nh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return th("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ud(n);return i?JSON.parse(i):(th("Failed to decode base64 JWT payload"),null)}catch(i){return th("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Mr(t,e){return iI.apply(this,arguments)}function iI(){return(iI=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof kn&&function XQ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class ZQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class cR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Eu(t){return sI.apply(this,arguments)}function sI(){return sI=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Mr(t,function QQ(t,e){return tI.apply(this,arguments)}(n,{idToken:r}));C(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function nY(t){return t.map(e=>{var{providerId:n}=e,r=ip(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function tY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cR(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),sI.apply(this,arguments)}function oI(){return(oI=m(function*(t){const e=vn(t);yield Eu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function aI(){return(aI=m(function*(t,e){const n=yield aR(t,{},m(function*(){const r=M1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uR(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oR.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){C(e.idToken,"internal-error"),C(typeof e.idToken<"u","internal-error"),C(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function JQ(t){const e=nh(t);return C(e,"internal-error"),C(typeof e.exp<"u","internal-error"),C(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return C(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function rY(t,e){return aI.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Du;return r&&(C("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(C("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(C("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Du,this.toJSON())}_performRefresh(){return er("not implemented")}}function ai(t,e){C("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ts{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ip(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cR(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield Mr(n,n.stsTokenManager.getToken(n.auth,e));return C(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function YQ(t){return nI.apply(this,arguments)}(this,e)}reload(){return function eY(t){return oI.apply(this,arguments)}(this)}_assign(e){this!==e&&(C(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){C(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Eu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield Mr(e,function WQ(t,e){return Zv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:N,isAnonymous:O,providerData:W,stsTokenManager:me}=n;C(T&&me,e,"internal-error");const Mt=Du.fromJSON(this.name,me);C("string"==typeof T,e,"internal-error"),ai(d,e.name),ai(h,e.name),C("boolean"==typeof N,e,"internal-error"),C("boolean"==typeof O,e,"internal-error"),ai(f,e.name),ai(p,e.name),ai(g,e.name),ai(y,e.name),ai(w,e.name),ai(_,e.name);const cr=new ts({uid:T,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Mt,createdAt:w,lastLoginAt:_});return W&&Array.isArray(W)&&(cr.providerData=W.map(b0=>Object.assign({},b0))),y&&(cr._redirectEventId=y),cr}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Du;i.updateFromServerResponse(n);const s=new ts({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Eu(s),s})()}}const lR=new Map;function Nr(t){oi(t instanceof Function,"Expected a class definition");let e=lR.get(t);return e?(oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lR.set(t,e),e)}const dR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function rh(t,e,n){return`firebase:${t}:${e}:${n}`}class Co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=rh(this.userKey,i.apiKey,s),this.fullPersistenceKey=rh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ts._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Co(Nr(dR),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Nr(dR);const o=rh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ts._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Co(s,e,r)):new Co(s,e,r)})()}}function hR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function gR(t=un()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function fR(t=un()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function yR(t=un()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function _R(t=un()){return/webos/i.test(t)}(e))return"Webos";if(function uI(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function pR(t=un()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function mR(t=un()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function vR(t,e=[]){let n;switch(t){case"Browser":n=hR(un());break;case"Worker":n=`${hR(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pu}/${r}`}function IR(t,e){return lI.apply(this,arguments)}function lI(){return(lI=m(function*(t,e){return Pe(t,"GET","/v2/recaptchaConfig",function ke(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function ER(t){return void 0!==t&&void 0!==t.enterprise}class DR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class bR{constructor(e){this.type="recaptcha-enterprise",this.auth=it(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=m(function*(c,l){IR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new DR(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;ER(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&ER(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function dI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function aY(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class dY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class hY{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CR(this),this.idTokenSubscription=new CR(this),this.beforeStateQueue=new dY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Co.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return C(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Eu(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function HQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?vn(e):null;return r&&C(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&C(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(Nr(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield IR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new DR(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new bR(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&Nr(e)||n._popupRedirectResolver;C(r,n,"argument-error"),n.redirectPersistenceManager=yield Co.create(n,[Nr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return C(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return C(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function jQ(t,...e){eh.logLevel<=se.WARN&&eh.warn(`Auth (${pu}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function it(t){return vn(t)}class CR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function a7(t,e){const n=new u7(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return C(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function TR(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new vu(3e4,6e4),new vu(2e3,1e4),new vu(3e4,6e4),new vu(5e3,15e3),encodeURIComponent("fac");var tP="@firebase/auth";class iX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){C(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}jd(),function oX(t){Vt(new Tt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;C(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vR(t)},c=new hY(r,i,s,u);return function pY(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Nr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vt(new Tt("auth-internal",e=>{const n=it(e.getProvider("auth").getImmediate());return new iX(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(tP,"0.23.2",function sX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),$e(tP,"0.23.2","esm2017")}("Browser");class sP{constructor(){return zv("auth")}}const Zw=new Map,oP={activated:!1,tokenObservers:[]},fX={initialized:!1,enabled:!1};function Oe(t){return Zw.get(t)||Object.assign({},oP)}function mh(){return fX}const eE="https://content-firebaseappcheck.googleapis.com/v1",yX="exchangeDebugToken",aP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class vX{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new $d,yield function IX(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new $d,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const gt=new Yn("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tE(t){if(!Oe(t).activated)throw gt.create("use-before-activation",{appName:t.name})}function vh(t,e){return rE.apply(this,arguments)}function rE(){return rE=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw gt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw gt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw gt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw gt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),rE.apply(this,arguments)}function uP(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${eE}/projects/${n}/apps/${r}:${yX}?key=${i}`,body:{debug_token:e}}}const TX="firebase-app-check-database",bX=1,Au="firebase-app-check-store";let Ih=null;function iE(){return iE=m(function*(t,e){const r=(yield function lP(){return Ih||(Ih=new Promise((t,e)=>{try{const n=indexedDB.open(TX,bX);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(gt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Au,{keyPath:"compositeKey"})}}catch(n){e(gt.create("storage-open",{originalErrorMessage:n?.message}))}}),Ih)}()).transaction(Au,"readwrite"),s=r.objectStore(Au).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(gt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),iE.apply(this,arguments)}const xu=new Io("@firebase/app-check");function aE(t,e){return Gi()?function SX(t,e){return function dP(t,e){return iE.apply(this,arguments)}(function fP(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{xu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function cE(){return mh().enabled}function lE(){return dE.apply(this,arguments)}function dE(){return dE=m(function*(){const t=mh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),dE.apply(this,arguments)}const RX={error:"UNKNOWN_ERROR"};function PX(t){return Ay.encodeString(JSON.stringify(t),!1)}function wh(t){return hE.apply(this,arguments)}function hE(){return hE=m(function*(t,e=!1){const n=t.app;tE(n);const r=Oe(n);let s,i=r.token;if(i&&!Ao(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Ao(u)?i=u:yield aE(n,void 0))}if(!e&&i&&Ao(i))return{token:i.token};let a,o=!1;if(cE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=vh(uP(n,yield lE()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield aE(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Oe(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?xu.warn(u.message):xu.error(u),s=u}return i?s?a=Ao(i)?{token:i.token,internalError:s}:yP(s):(a={token:i.token},r.token=i,yield aE(n,i)):a=yP(s),o&&function mP(t,e){const n=Oe(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),hE.apply(this,arguments)}function fE(){return fE=m(function*(t){const e=t.app;tE(e);const{provider:n}=Oe(e);if(cE()){const r=yield lE(),{token:i}=yield vh(uP(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),fE.apply(this,arguments)}function gE(t,e){const n=Oe(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function gP(t){const{app:e}=t,n=Oe(e);let r=n.tokenRefresher;r||(r=function OX(t){const{app:e}=t;return new vX(m(function*(){let r;if(r=Oe(e).token?yield wh(t,!0):yield wh(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Oe(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},aP.RETRIAL_MIN_WAIT,aP.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ao(t){return t.expireTimeMillis-Date.now()>0}function yP(t){return{token:PX(RX),error:t}}class FX{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Oe(this.app);for(const n of e)gE(this.app,n.next);return Promise.resolve()}}const bP="app-check-internal";!function YX(){Vt(new Tt("app-check",t=>function LX(t,e){return new FX(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(bP).initialize()})),Vt(new Tt(bP,t=>function VX(t){return{getToken:e=>wh(t,e),getLimitedUseToken:()=>function pP(t){return fE.apply(this,arguments)}(t),addTokenListener:e=>function pE(t,e,n,r){const{app:i}=t,s=Oe(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ao(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),gP(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>gP(t))}(t,"INTERNAL",e),removeTokenListener:e=>gE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),$e("@firebase/app-check","0.8.0")}();class SP{constructor(){return zv("app-check")}}typeof window<"u"&&window;var x,tZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rn={},IE=IE||{},G=tZ||self;function Dh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Mu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var wE="closure_uid_"+(1e9*Math.random()>>>0),rZ=0;function iZ(t,e,n){return t.call.apply(t.bind,arguments)}function sZ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function bt(t,e,n){return(bt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?iZ:sZ).apply(null,arguments)}function Th(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function st(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ci(){this.s=this.s,this.o=this.o}ci.prototype.s=!1,ci.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function nZ(t){Object.prototype.hasOwnProperty.call(t,wE)&&t[wE]||(t[wE]=++rZ)}(this)},ci.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function EE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function xP(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Dh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ct(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ct.prototype.h=function(){this.defaultPrevented=!0};var aZ=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{G.addEventListener("test",()=>{},e),G.removeEventListener("test",()=>{},e)}catch{}return t}();function Nu(t){return/^[\s\xa0]*$/.test(t)}function bh(){var t=G.navigator;return t&&(t=t.userAgent)?t:""}function tr(t){return-1!=bh().indexOf(t)}function DE(t){return DE[" "](t),t}DE[" "]=function(){};var bE,cZ=tr("Opera"),xo=tr("Trident")||tr("MSIE"),MP=tr("Edge"),TE=MP||xo,NP=tr("Gecko")&&!(-1!=bh().toLowerCase().indexOf("webkit")&&!tr("Edge"))&&!(tr("Trident")||tr("MSIE"))&&!tr("Edge"),lZ=-1!=bh().toLowerCase().indexOf("webkit")&&!tr("Edge");function kP(){var t=G.document;return t?t.documentMode:void 0}e:{var CE="",SE=function(){var t=bh();return NP?/rv:([^\);]+)(\)|;)/.exec(t):MP?/Edge\/([\d\.]+)/.exec(t):xo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):lZ?/WebKit\/(\S+)/.exec(t):cZ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(SE&&(CE=SE?SE[1]:""),xo){var AE=kP();if(null!=AE&&AE>parseFloat(CE)){bE=String(AE);break e}}bE=CE}var dZ=G.document&&xo&&(kP()||parseInt(bE,10))||void 0;function ku(t,e){if(Ct.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(NP){e:{try{DE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:hZ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ku.$.h.call(this)}}st(ku,Ct);var hZ={2:"touch",3:"pen",4:"mouse"};ku.prototype.h=function(){ku.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ru="closure_listenable_"+(1e6*Math.random()|0),fZ=0;function pZ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++fZ,this.fa=this.ia=!1}function Ch(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ME(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function PP(t){const e={};for(const n in t)e[n]=t[n];return e}const OP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FP(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<OP.length;s++)n=OP[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Sh(t){this.src=t,this.g={},this.h=0}function NE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=AP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ch(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function kE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Sh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=kE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new pZ(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var RE="closure_lm_"+(1e6*Math.random()|0),PE={};function LP(t,e,n,r,i){if(r&&r.once)return BP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)LP(t,e[s],n,r,i);return null}return n=VE(n),t&&t[Ru]?t.O(e,n,Mu(r)?!!r.capture:!!r,i):VP(t,e,n,!1,r,i)}function VP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Mu(i)?!!i.capture:!!i,a=FE(t);if(a||(t[RE]=a=new Sh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function mZ(){const e=yZ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)aZ||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jP(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function BP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)BP(t,e[s],n,r,i);return null}return n=VE(n),t&&t[Ru]?t.P(e,n,Mu(r)?!!r.capture:!!r,i):VP(t,e,n,!0,r,i)}function UP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)UP(t,e[s],n,r,i);else r=Mu(r)?!!r.capture:!!r,n=VE(n),t&&t[Ru]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=kE(s=t.g[e],n,r,i))&&(Ch(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=FE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=kE(e,n,r,i)),(n=-1<t?e[t]:null)&&OE(n))}function OE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Ru])NE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=FE(e))?(NE(n,t),0==n.h&&(n.src=null,e[RE]=null)):Ch(t)}}}function jP(t){return t in PE?PE[t]:PE[t]="on"+t}function yZ(t,e){if(t.fa)t=!0;else{e=new ku(e,this);var n=t.listener,r=t.la||t.src;t.ia&&OE(t),t=n.call(r,e)}return t}function FE(t){return(t=t[RE])instanceof Sh?t:null}var LE="__closure_events_fn_"+(1e9*Math.random()>>>0);function VE(t){return"function"==typeof t?t:(t[LE]||(t[LE]=function(e){return t.handleEvent(e)}),t[LE])}function ot(){ci.call(this),this.i=new Sh(this),this.S=this,this.J=null}function mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ct(e,t);else if(e instanceof Ct)e.target=e.target||t;else{var i=e;FP(e=new Ct(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ah(o,r,!0,e)&&i}if(i=Ah(o=e.g=t,r,!0,e)&&i,i=Ah(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ah(o=e.g=n[s],r,!1,e)&&i}function Ah(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&NE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}st(ot,ci),ot.prototype[Ru]=!0,ot.prototype.removeEventListener=function(t,e,n,r){UP(this,t,e,n,r)},ot.prototype.N=function(){if(ot.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ch(n[r]);delete t.g[e],t.h--}}this.J=null},ot.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ot.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var BE=G.JSON.stringify;function vZ(){var t=UE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $P=new class _Z{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new wZ,t=>t.reset());class wZ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function EZ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function DZ(t){G.setTimeout(()=>{throw t},0)}let Pu,Ou=!1,UE=new class IZ{constructor(){this.h=this.g=null}add(e,n){const r=$P.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},HP=()=>{const t=G.Promise.resolve(void 0);Pu=()=>{t.then(TZ)}};var TZ=()=>{for(var t;t=vZ();){try{t.h.call(t.g)}catch(n){DZ(n)}var e=$P;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ou=!1};function xh(t,e){ot.call(this),this.h=t||1,this.g=e||G,this.j=bt(this.qb,this),this.l=Date.now()}function jE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function $E(t,e,n){if("function"==typeof t)n&&(t=bt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=bt(t.handleEvent,t)}return 2147483647<Number(e)?-1:G.setTimeout(t,e||0)}function GP(t){t.g=$E(()=>{t.g=null,t.i&&(t.i=!1,GP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}st(xh,ot),(x=xh.prototype).ga=!1,x.T=null,x.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mt(this,"tick"),this.ga&&(jE(this),this.start()))}},x.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},x.N=function(){xh.$.N.call(this),jE(this),delete this.g};class bZ extends ci{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:GP(this)}N(){super.N(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fu(t){ci.call(this),this.h=t,this.g={}}st(Fu,ci);var zP=[];function qP(t,e,n,r){Array.isArray(n)||(n&&(zP[0]=n.toString()),n=zP);for(var i=0;i<n.length;i++){var s=LP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function WP(t){ME(t.g,function(e,n){this.g.hasOwnProperty(n)&&OE(e)},t),t.g={}}function Mh(){this.g=!0}function Mo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xZ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return BE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Fu.prototype.N=function(){Fu.$.N.call(this),WP(this)},Fu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mh.prototype.Ea=function(){this.g=!1},Mh.prototype.info=function(){};var ss={},KP=null;function Nh(){return KP=KP||new ot}function QP(t){Ct.call(this,ss.Ta,t)}function Lu(t){const e=Nh();mt(e,new QP(e))}function YP(t,e){Ct.call(this,ss.STAT_EVENT,t),this.stat=e}function Ut(t){const e=Nh();mt(e,new YP(e,t))}function JP(t,e){Ct.call(this,ss.Ua,t),this.size=e}function Vu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){t()},e)}ss.Ta="serverreachability",st(QP,Ct),ss.STAT_EVENT="statevent",st(YP,Ct),ss.Ua="timingevent",st(JP,Ct);var kh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},XP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function HE(){}function eO(){}HE.prototype.h=null;var qE,Bu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function GE(){Ct.call(this,"d")}function zE(){Ct.call(this,"c")}function Rh(){}function Uu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Fu(this),this.P=MZ,this.V=new xh(t=TE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tO}function tO(){this.i=null,this.g="",this.h=!1}st(GE,Ct),st(zE,Ct),st(Rh,HE),Rh.prototype.g=function(){return new XMLHttpRequest},Rh.prototype.i=function(){return{}},qE=new Rh;var MZ=45e3,WE={},Ph={};function KE(t,e,n){t.L=1,t.v=Vh(Rr(e)),t.s=n,t.S=!0,nO(t,null)}function nO(t,e){t.G=Date.now(),ju(t),t.A=Rr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),hO(n.i,"t",r),t.C=0,n=t.l.J,t.h=new tO,t.g=FO(t.l,n?e:null,!t.s),0<t.O&&(t.M=new bZ(bt(t.Pa,t,t.g),t.O)),qP(t.U,t.g,"readystatechange",t.nb),e=t.I?PP(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Lu(),function CZ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function rO(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function iO(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=NZ(t,n),i==Ph){4==e&&(t.o=4,Ut(14),r=!1),Mo(t.j,t.m,null,"[Incomplete Response]");break}if(i==WE){t.o=4,Ut(15),Mo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Mo(t.j,t.m,i,null),QE(t,i)}rO(t)&&i!=Ph&&i!=WE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ut(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),nD(e),e.M=!0,Ut(11))):(Mo(t.j,t.m,n,"[Invalid Chunked Response]"),os(t),$u(t))}function NZ(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ph:(n=Number(e.substring(n,r)),isNaN(n)?WE:(r+=1)+n>e.length?Ph:(e=e.slice(r,r+n),t.C=r+n,e))}function ju(t){t.Y=Date.now()+t.P,sO(t,t.P)}function sO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Vu(bt(t.lb,t),e)}function Oh(t){t.B&&(G.clearTimeout(t.B),t.B=null)}function $u(t){0==t.l.H||t.J||kO(t.l,t)}function os(t){Oh(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,jE(t.V),WP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function QE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||YE(n.i,t)))if(!t.K&&YE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Gh(n),$h(n)}tD(n),Ut(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Vu(bt(n.ib,n),6e3));if(1>=gO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else us(n,11)}else if((t.K||n.g==t)&&Gh(n),!Nu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(JE(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ee(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=OO(r,r.J?r.pa:null,r.Y),o.K){mO(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Oh(a),ju(a)),r.g=o}else MO(r);0<n.j.length&&Hh(n)}else"stop"!=c[0]&&"close"!=c[0]||us(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?us(n,7):eD(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Lu()}catch{}}function oO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Dh(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function RZ(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Dh(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function kZ(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Dh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(x=Uu.prototype).setTimeout=function(t){this.P=t},x.nb=function(t){t=t.target;const e=this.M;e&&3==nr(t)?e.l():this.Pa(t)},x.Pa=function(t){try{if(t==this.g)e:{const l=nr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||TE||this.g&&(this.h.h||this.g.ja()||TO(this.g)))){this.J||4!=l||7==e||Lu(),Oh(this);var n=this.g.da();this.ca=n;t:if(rO(this)){var r=TO(this.g);t="";var i=r.length,s=4==nr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){os(this),$u(this);var o="";break t}this.h.i=new G.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function SZ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nu(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Ut(12),os(this),$u(this);break e}Mo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,QE(this,n)}this.S?(iO(this,l,o),TE&&this.i&&3==l&&(qP(this.U,this.V,"tick",this.mb),this.V.start())):(Mo(this.j,this.m,o,null),QE(this,o)),4==l&&os(this),this.i&&!this.J&&(4==l?kO(this.l,this):(this.i=!1,ju(this)))}else(function JZ(t){const e={};t=(t.g&&2<=nr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Nu(t[r]))continue;var n=EZ(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function gZ(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ut(12)):(this.o=0,Ut(13)),os(this),$u(this)}}}catch{}},x.mb=function(){if(this.g){var t=nr(this.g),e=this.g.ja();this.C<e.length&&(Oh(this),iO(this,t,e),this.i&&4!=t&&ju(this))}},x.cancel=function(){this.J=!0,os(this)},x.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function AZ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Lu(),Ut(17)),os(this),this.o=2,$u(this)):sO(this,this.Y-t)};var aO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function as(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof as){this.h=t.h,Fh(this,t.j),this.s=t.s,this.g=t.g,Lh(this,t.m),this.l=t.l;var e=t.i,n=new zu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),uO(this,n),this.o=t.o}else t&&(e=String(t).match(aO))?(this.h=!1,Fh(this,e[1]||"",!0),this.s=Hu(e[2]||""),this.g=Hu(e[3]||"",!0),Lh(this,e[4]),this.l=Hu(e[5]||"",!0),uO(this,e[6]||"",!0),this.o=Hu(e[7]||"")):(this.h=!1,this.i=new zu(null,this.h))}function Rr(t){return new as(t)}function Fh(t,e,n){t.j=n?Hu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Lh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function uO(t,e,n){e instanceof zu?(t.i=e,function UZ(t,e){e&&!t.j&&(li(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(lO(this,r),hO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Gu(e,VZ)),t.i=new zu(e,t.h))}function Ee(t,e,n){t.i.set(e,n)}function Vh(t){return Ee(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Hu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,OZ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function OZ(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}as.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Gu(e,cO,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Gu(e,cO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Gu(n,"/"==n.charAt(0)?LZ:FZ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Gu(n,BZ)),t.join("")};var cO=/[#\/\?@]/g,FZ=/[#\?:]/g,LZ=/[#\?]/g,VZ=/[#\?@]/g,BZ=/#/g;function zu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function li(t){t.g||(t.g=new Map,t.h=0,t.i&&function PZ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function lO(t,e){li(t),e=No(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function dO(t,e){return li(t),e=No(t,e),t.g.has(e)}function hO(t,e,n){lO(t,e),0<n.length&&(t.i=null,t.g.set(No(t,e),EE(n)),t.h+=n.length)}function No(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function fO(t){this.l=t||$Z,t=G.PerformanceNavigationTiming?0<(t=G.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(G.g&&G.g.Ka&&G.g.Ka()&&G.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(x=zu.prototype).add=function(t,e){li(this),this.i=null,t=No(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},x.forEach=function(t,e){li(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},x.ta=function(){li(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},x.Z=function(t){li(this);let e=[];if("string"==typeof t)dO(this,t)&&(e=e.concat(this.g.get(No(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},x.set=function(t,e){return li(this),this.i=null,dO(this,t=No(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},x.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},x.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var $Z=10;function pO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function gO(t){return t.h?1:t.g?t.g.size:0}function YE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function JE(t,e){t.g?t.g.add(e):t.h=e}function mO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function yO(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return EE(t.i)}fO.prototype.cancel=function(){if(this.i=yO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var HZ=class{stringify(t){return G.JSON.stringify(t,void 0)}parse(t){return G.JSON.parse(t,void 0)}};function GZ(){this.g=new HZ}function zZ(t,e,n){const r=n||"";try{oO(t,function(i,s){let o=i;Mu(i)&&(o=BE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Bh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qu(t){this.l=t.fc||null,this.j=t.ob||!1}function Uh(t,e){ot.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=XE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}st(qu,HE),qu.prototype.g=function(){return new Uh(this.l,this.j)},qu.prototype.i=function(t){return function(){return t}}({}),st(Uh,ot);var XE=0;function _O(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Wu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ku(t)}function Ku(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(x=Uh.prototype).open=function(t,e){if(this.readyState!=XE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ku(this)},x.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||G).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},x.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wu(this)),this.readyState=XE},x.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ku(this)),this.g&&(this.readyState=3,Ku(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_O(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},x.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wu(this):Ku(this),3==this.readyState&&_O(this)}},x.Za=function(t){this.g&&(this.response=this.responseText=t,Wu(this))},x.Ya=function(t){this.g&&(this.response=t,Wu(this))},x.ka=function(){this.g&&Wu(this)},x.setRequestHeader=function(t,e){this.v.append(t,e)},x.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},x.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Uh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var WZ=G.JSON.parse;function Fe(t){ot.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vO,this.L=this.M=!1}st(Fe,ot);var vO="",KZ=/^https?$/i,QZ=["POST","PUT"];function IO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,wO(t),jh(t)}function wO(t){t.F||(t.F=!0,mt(t,"complete"),mt(t,"error"))}function EO(t){if(t.h&&typeof IE<"u"&&(!t.C[1]||4!=nr(t)||2!=t.da()))if(t.v&&4==nr(t))$E(t.La,0,t);else if(mt(t,"readystatechange"),4==nr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(aO)[1]||null;!i&&G.self&&G.self.location&&(i=G.self.location.protocol.slice(0,-1)),r=!KZ.test(i?i.toLowerCase():"")}n=r}if(n)mt(t,"complete"),mt(t,"success");else{t.m=6;try{var s=2<nr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",wO(t)}}finally{jh(t)}}}function jh(t,e){if(t.g){DO(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function DO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(G.clearTimeout(t.A),t.A=null)}function nr(t){return t.g?t.g.readyState:0}function TO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case vO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function bO(t){let e="";return ME(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function ZE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=bO(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ee(t,e,n))}function Qu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function CO(t){this.Ga=0,this.j=[],this.l=new Mh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qu("baseRetryDelayMs",5e3,t),this.hb=Qu("retryDelaySeedMs",1e4,t),this.eb=Qu("forwardChannelMaxRetries",2,t),this.xa=Qu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new fO(t&&t.concurrentRequestLimit),this.Ja=new GZ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function eD(t){if(SO(t),3==t.H){var e=t.W++,n=Rr(t.I);if(Ee(n,"SID",t.K),Ee(n,"RID",e),Ee(n,"TYPE","terminate"),Yu(t,n),(e=new Uu(t,t.l,e)).L=2,e.v=Vh(Rr(n)),n=!1,G.navigator&&G.navigator.sendBeacon)try{n=G.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&G.Image&&((new Image).src=e.v,n=!0),n||(e.g=FO(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ju(e)}PO(t)}function $h(t){t.g&&(nD(t),t.g.cancel(),t.g=null)}function SO(t){$h(t),t.u&&(G.clearTimeout(t.u),t.u=null),Gh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&G.clearTimeout(t.m),t.m=null)}function Hh(t){if(!pO(t.i)&&!t.m){t.m=!0;var e=t.Na;Pu||HP(),Ou||(Pu(),Ou=!0),UE.add(e,t),t.C=0}}function AO(t,e){var n;n=e?e.m:t.W++;const r=Rr(t.I);Ee(r,"SID",t.K),Ee(r,"RID",n),Ee(r,"AID",t.V),Yu(t,r),t.o&&t.s&&ZE(r,t.o,t.s),n=new Uu(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=xO(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),JE(t.i,n),KE(n,r,e)}function Yu(t,e){t.na&&ME(t.na,function(n,r){Ee(e,r,n)}),t.h&&oO({},function(n,r){Ee(e,r,n)})}function xO(t,e,n){n=Math.min(t.j.length,n);var r=t.h?bt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{zZ(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function MO(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Pu||HP(),Ou||(Pu(),Ou=!0),UE.add(e,t),t.A=0}}function tD(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Vu(bt(t.Ma,t),RO(t,t.A)),t.A++,0))}function nD(t){null!=t.B&&(G.clearTimeout(t.B),t.B=null)}function NO(t){t.g=new Uu(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Rr(t.wa);Ee(e,"RID","rpc"),Ee(e,"SID",t.K),Ee(e,"AID",t.V),Ee(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ee(e,"TO",t.qa),Ee(e,"TYPE","xmlhttp"),Yu(t,e),t.o&&t.s&&ZE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Vh(Rr(e)),n.s=null,n.S=!0,nO(n,t)}function Gh(t){null!=t.v&&(G.clearTimeout(t.v),t.v=null)}function kO(t,e){var n=null;if(t.g==e){Gh(t),nD(t),t.g=null;var r=2}else{if(!YE(t.i,e))return;n=e.F,mO(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;mt(r=Nh(),new JP(r,n)),Hh(t)}else MO(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function XZ(t,e){return!(gO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Vu(bt(t.Na,t,e),RO(t,t.C)),t.C++,0)))}(t,e)||2==r&&tD(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:us(t,5);break;case 4:us(t,10);break;case 3:us(t,6);break;default:us(t,2)}}function RO(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function us(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=bt(t.pb,t);n||(n=new as("//www.google.com/images/cleardot.gif"),G.location&&"http"==G.location.protocol||Fh(n,"https"),Vh(n)),function qZ(t,e){const n=new Mh;if(G.Image){const r=new Image;r.onload=Th(Bh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Th(Bh,n,r,"TestLoadImage: error",!1,e),r.onabort=Th(Bh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Th(Bh,n,r,"TestLoadImage: timeout",!1,e),G.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ut(2);t.H=0,t.h&&t.h.za(e),PO(t),SO(t)}function PO(t){if(t.H=0,t.ma=[],t.h){const e=yO(t.i);(0!=e.length||0!=t.j.length)&&(xP(t.ma,e),xP(t.ma,t.j),t.i.i.length=0,EE(t.j),t.j.length=0),t.h.ya()}}function OO(t,e,n){var r=n instanceof as?Rr(n):new as(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Lh(r,r.m);else{var i=G.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new as(null);r&&Fh(s,r),e&&(s.g=e),i&&Lh(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ee(r,n,e),Ee(r,"VER",t.ra),Yu(t,r),r}function FO(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fe(n&&t.Ha&&!t.va?new qu({ob:!0}):t.va)).Oa(t.J),e}function LO(){}function zh(){if(xo&&!(10<=Number(dZ)))throw Error("Environmental error: no available transport.")}function cn(t,e){ot.call(this),this.g=new CO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Nu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nu(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ko(this)}function VO(t){GE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function BO(){zE.call(this),this.status=1}function ko(t){this.g=t}function Pn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rD(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function he(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(x=Fe.prototype).Oa=function(t){this.M=t},x.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qE.g(),this.C=function ZP(t){return t.h||(t.h=t.i())}(this.u?this.u:qE),this.g.onreadystatechange=bt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void IO(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=G.FormData&&t instanceof G.FormData,!(0<=AP(QZ,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{DO(this),0<this.B&&((this.L=function YZ(t){return xo&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bt(this.ua,this)):this.A=$E(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){IO(this,s)}},x.ua=function(){typeof IE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))},x.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mt(this,"complete"),mt(this,"abort"),jh(this))},x.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jh(this,!0)),Fe.$.N.call(this)},x.La=function(){this.s||(this.G||this.v||this.l?EO(this):this.kb())},x.kb=function(){EO(this)},x.isActive=function(){return!!this.g},x.da=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},x.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},x.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),WZ(e)}},x.Ia=function(){return this.m},x.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(x=CO.prototype).ra=8,x.H=1,x.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Uu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=PP(s),FP(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xO(this,i,e),Ee(n=Rr(this.I),"RID",t),Ee(n,"CVER",22),this.F&&Ee(n,"X-HTTP-Session-Id",this.F),Yu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(bO(s)))+"&"+e:this.o&&ZE(n,this.o,s)),JE(this.i,i),this.bb&&Ee(n,"TYPE","init"),this.P?(Ee(n,"$req",e),Ee(n,"SID","null"),i.aa=!0,KE(i,n,null)):KE(i,n,e),this.H=2}}else 3==this.H&&(t?AO(this,t):0==this.j.length||pO(this.i)||AO(this))},x.Ma=function(){if(this.u=null,NO(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Vu(bt(this.jb,this),t)}},x.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ut(10),$h(this),NO(this))},x.ib=function(){null!=this.v&&(this.v=null,$h(this),tD(this),Ut(19))},x.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ut(2)):(this.l.info("Failed to ping google.com"),Ut(1))},x.isActive=function(){return!!this.h&&this.h.isActive(this)},(x=LO.prototype).Ba=function(){},x.Aa=function(){},x.za=function(){},x.ya=function(){},x.isActive=function(){return!0},x.Va=function(){},zh.prototype.g=function(t,e){return new cn(t,e)},st(cn,ot),cn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ut(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=OO(t,null,t.Y),Hh(t)},cn.prototype.close=function(){eD(this.g)},cn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=BE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Hh(e)},cn.prototype.N=function(){this.g.h=null,delete this.j,eD(this.g),delete this.g,cn.$.N.call(this)},st(VO,GE),st(BO,zE),st(ko,LO),ko.prototype.Ba=function(){mt(this.g,"a")},ko.prototype.Aa=function(t){mt(this.g,new VO(t))},ko.prototype.za=function(t){mt(this.g,new BO)},ko.prototype.ya=function(){mt(this.g,"b")},st(Pn,function ZZ(){this.blockSize=-1}),Pn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Pn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)rD(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){rD(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){rD(this,r),i=0;break}}this.h=i,this.i+=e},Pn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var eee={};function iD(t){return-128<=t&&128>t?function uZ(t,e){var n=eee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new he([0|e],0>e?-1:0)}):new he([0|t],0>t?-1:0)}function rr(t){if(isNaN(t)||!isFinite(t))return Ro;if(0>t)return yt(rr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=sD;return new he(e,0)}var sD=4294967296,Ro=iD(0),oD=iD(1),jO=iD(16777216);function Pr(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function wn(t){return-1==t.h}function yt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new he(n,~t.h).add(oD)}function qh(t,e){return t.add(yt(e))}function Wh(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ju(t,e){this.g=t,this.h=e}function Kh(t,e){if(Pr(e))throw Error("division by zero");if(Pr(t))return new Ju(Ro,Ro);if(wn(t))return e=Kh(yt(t),e),new Ju(yt(e.g),yt(e.h));if(wn(e))return e=Kh(t,yt(e)),new Ju(yt(e.g),e.h);if(30<t.g.length){if(wn(t)||wn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=oD,r=e;0>=r.X(t);)n=$O(n),r=$O(r);var i=Po(n,1),s=Po(r,1);for(r=Po(r,2),n=Po(n,2);!Pr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Po(r,1),n=Po(n,1)}return e=qh(t,i.R(e)),new Ju(i,e)}for(i=Ro;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=rr(n)).R(e);wn(o)||0<o.X(t);)o=(s=rr(n-=r)).R(e);Pr(s)&&(s=oD),i=i.add(s),t=qh(t,o)}return new Ju(i,t)}function $O(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new he(n,t.h)}function Po(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new he(i,t.h)}(x=he.prototype).ea=function(){if(wn(this))return-yt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:sD+r)*e,e*=sD}return t},x.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Pr(this))return"0";if(wn(this))return"-"+yt(this).toString(t);for(var e=rr(Math.pow(t,6)),n=this,r="";;){var i=Kh(n,e).g,s=((0<(n=qh(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Pr(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},x.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},x.X=function(t){return wn(t=qh(this,t))?-1:Pr(t)?0:1},x.abs=function(){return wn(this)?yt(this):this},x.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new he(n,-2147483648&n[n.length-1]?-1:0)},x.R=function(t){if(Pr(this)||Pr(t))return Ro;if(wn(this))return wn(t)?yt(this).R(yt(t)):yt(yt(this).R(t));if(wn(t))return yt(this.R(yt(t)));if(0>this.X(jO)&&0>t.X(jO))return rr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Wh(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Wh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Wh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Wh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new he(n,0)},x.gb=function(t){return Kh(this,t).h},x.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new he(n,this.h&t.h)},x.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new he(n,this.h|t.h)},x.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new he(n,this.h^t.h)},zh.prototype.createWebChannel=zh.prototype.g,cn.prototype.send=cn.prototype.u,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,kh.NO_ERROR=0,kh.TIMEOUT=8,kh.HTTP_ERROR=6,XP.COMPLETE="complete",eO.EventType=Bu,Bu.OPEN="a",Bu.CLOSE="b",Bu.ERROR="c",Bu.MESSAGE="d",ot.prototype.listen=ot.prototype.O,Fe.prototype.listenOnce=Fe.prototype.P,Fe.prototype.getLastError=Fe.prototype.Sa,Fe.prototype.getLastErrorCode=Fe.prototype.Ia,Fe.prototype.getStatus=Fe.prototype.da,Fe.prototype.getResponseJson=Fe.prototype.Wa,Fe.prototype.getResponseText=Fe.prototype.ja,Fe.prototype.send=Fe.prototype.ha,Fe.prototype.setWithCredentials=Fe.prototype.Oa,Pn.prototype.digest=Pn.prototype.l,Pn.prototype.reset=Pn.prototype.reset,Pn.prototype.update=Pn.prototype.j,he.prototype.add=he.prototype.add,he.prototype.multiply=he.prototype.R,he.prototype.modulo=he.prototype.gb,he.prototype.compare=he.prototype.X,he.prototype.toNumber=he.prototype.ea,he.prototype.toString=he.prototype.toString,he.prototype.getBits=he.prototype.D,he.fromNumber=rr,he.fromString=function UO(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return yt(UO(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=rr(Math.pow(e,8)),r=Ro,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=rr(Math.pow(e,s)),r=r.R(s).add(rr(o))):r=(r=r.R(n)).add(rr(o))}return r};var tee=Rn.createWebChannelTransport=function(){return new zh},nee=Rn.getStatEventTarget=function(){return Nh()},aD=Rn.ErrorCode=kh,ree=Rn.EventType=XP,iee=Rn.Event=ss,HO=Rn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},see=Rn.FetchXmlHttpFactory=qu,Qh=Rn.WebChannel=eO,oee=Rn.XhrIo=Fe,aee=Rn.Md5=Pn,Oo=Rn.Integer=he;const GO="@firebase/firestore";class at{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");let Fo="9.23.0";const di=new Io("@firebase/firestore");function uD(){return di.logLevel}function b(t,...e){if(di.logLevel<=se.DEBUG){const n=e.map(cD);di.debug(`Firestore (${Fo}): ${t}`,...n)}}function He(t,...e){if(di.logLevel<=se.ERROR){const n=e.map(cD);di.error(`Firestore (${Fo}): ${t}`,...n)}}function On(t,...e){if(di.logLevel<=se.WARN){const n=e.map(cD);di.warn(`Firestore (${Fo}): ${t}`,...n)}}function cD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function R(t="Unexpected state"){const e=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: `+t;throw He(e),new Error(e)}function P(t,e){t||R()}function A(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class et{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class zO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(at.UNAUTHENTICATED))}shutdown(){}}class cee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lee{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new et;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new et,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new et)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(P("string"==typeof r.accessToken),new zO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return P(null===e||"string"==typeof e),new at(e)}}class dee{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class hee{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new dee(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fee{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(P("string"==typeof n.token),this.T=n.token,new qO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class WO{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=pee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function j(t,e){return t<e?-1:t>e?1:0}function Lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Se{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Se(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?j(this.nanoseconds,e.nanoseconds):j(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class F{constructor(e){this.timestamp=e}static fromTimestamp(e){return new F(e)}static min(){return new F(new Se(0,0))}static max(){return new F(new Se(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xu{constructor(e,n,r){void 0===n?n=0:n>e.length&&R(),void 0===r?r=e.length-n:r>e.length-n&&R(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Xu.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class re extends Xu{construct(e,n,r){return new re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new re(n)}static emptyPath(){return new re([])}}const gee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Xu{construct(e,n,r){return new Ge(e,n,r)}static isValidIdentifier(e){return gee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ge(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(n)}static emptyPath(){return new Ge([])}}class S{constructor(e){this.path=e}static fromPath(e){return new S(re.fromString(e))}static fromName(e){return new S(re.fromString(e).popFirst(5))}static empty(){return new S(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===re.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new re(e.slice()))}}function YO(t){return new ln(t.readTime,t.key,-1)}class ln{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ln(F.min(),S.empty(),-1)}static max(){return new ln(F.max(),S.empty(),-1)}}function dD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:j(t.largestBatchId,e.largestBatchId))}const JO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _ee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hi(t){return hD.apply(this,arguments)}function hD(){return hD=m(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==JO)throw t;b("LocalStore","Unexpectedly lost primary lease")}),hD.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function fi(t){return"IndexedDbTransactionError"===t.name}let dn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function tc(t){return null==t}function nc(t){return 0===t&&1/t==-1/0}function oF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class we{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new we(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new we(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ef(this.root,e,this.comparator,!0)}}class ef{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_t.RED,this.left=i??_t.EMPTY,this.right=s??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return _t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();const e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1,_t.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(t,e,n,r,i){return this}insert(t,e,n){return new _t(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class De{constructor(e){this.comparator=e,this.data=new we(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uF(this.data.getIterator())}getIteratorFrom(e){return new uF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new De(this.comparator);return n.data=e,n}}class uF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xt{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new De(Ge.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class cF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cF("Invalid base64 string: "+i):i}}(e);return new tt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return j(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tt.EMPTY_BYTE_STRING=new tt("");const jee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(P(!!t),"string"==typeof t){let e=0;const n=jee.exec(t);if(P(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Or(t){return"string"==typeof t?tt.fromBase64String(t):tt.fromUint8Array(t)}function tf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nf(t){const e=t.mapValue.fields.__previous_value__;return tf(e)?nf(e):e}function rc(t){const e=gi(t.mapValue.fields.__local_write_time__.timestampValue);return new Se(e.seconds,e.nanos)}class $ee{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ds{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ds("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ds&&e.projectId===this.projectId&&e.database===this.database}}const mi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tf(t)?4:fF(t)?9007199254740991:10:R()}function sr(t,e){if(t===e)return!0;const n=yi(t);if(n!==yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rc(t).isEqual(rc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=gi(r.timestampValue),o=gi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Or(t.bytesValue).isEqual(Or(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Le(r.geoPointValue.latitude)===Le(i.geoPointValue.latitude)&&Le(r.geoPointValue.longitude)===Le(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Le(r.integerValue)===Le(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Le(r.doubleValue),o=Le(i.doubleValue);return s===o?nc(s)===nc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Lo(t.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(oF(s)!==oF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!sr(s[a],o[a])))return!1;return!0}(t,e);default:return R()}var i}function ic(t,e){return void 0!==(t.values||[]).find(n=>sr(n,e))}function _i(t,e){if(t===e)return 0;const n=yi(t),r=yi(e);if(n!==r)return j(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return j(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Le(i.integerValue||i.doubleValue),a=Le(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return lF(t.timestampValue,e.timestampValue);case 4:return lF(rc(t),rc(e));case 5:return j(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Or(i),a=Or(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=j(o[u],a[u]);if(0!==c)return c}return j(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=j(Le(i.latitude),Le(s.latitude));return 0!==o?o:j(Le(i.longitude),Le(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=_i(o[u],a[u]);if(c)return c}return j(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===mi.mapValue&&s===mi.mapValue)return 0;if(i===mi.mapValue)return 1;if(s===mi.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=j(a[l],c[l]);if(0!==d)return d;const h=_i(o[a[l]],u[c[l]]);if(0!==h)return h}return j(a.length,c.length)}(t.mapValue,e.mapValue);default:throw R()}}function lF(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return j(t,e);const n=gi(t),r=gi(e),i=j(n.seconds,r.seconds);return 0!==i?i:j(n.nanos,r.nanos)}function Bo(t){return gD(t)}function gD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=gi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Or(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=gD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${gD(r.fields[a])}`;return s+"}"}(t.mapValue):R();var e}function mD(t){return!!t&&"integerValue"in t}function sc(t){return!!t&&"arrayValue"in t}function dF(t){return!!t&&"nullValue"in t}function hF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function of(t){return!!t&&"mapValue"in t}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=oc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fF(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class vt{constructor(e){this.value=e}static empty(){return new vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!of(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=Ge.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=oc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];of(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new vt(oc(this.value))}}function mF(t){const e=[];return pi(t.fields,(n,r)=>{const i=new Ge([n]);if(of(r)){const s=mF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Xt(e)}class Te{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Te(e,0,F.min(),F.min(),F.min(),vt.empty(),0)}static newFoundDocument(e,n,r,i){return new Te(e,1,n,F.min(),r,i,0)}static newNoDocument(e,n){return new Te(e,2,n,F.min(),F.min(),vt.empty(),0)}static newUnknownDocument(e,n){return new Te(e,3,n,F.min(),F.min(),vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(F.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=F.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Te&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Te(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vi{constructor(e,n){this.position=e,this.inclusive=n}}function yF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):_i(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function _F(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sr(t.position[n],e.position[n]))return!1;return!0}class Uo{constructor(e,n="asc"){this.field=e,this.dir=n}}function zee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vF{}class X extends vF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new qee(e,n,r):"array-contains"===n?new Qee(e,r):"in"===n?new bF(e,r):"not-in"===n?new Yee(e,r):"array-contains-any"===n?new Jee(e,r):new X(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Wee(e,r):new Kee(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(_i(n,this.value)):null!==n&&yi(this.value)===yi(n)&&this.matchesComparison(_i(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fe extends vF{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new fe(e,n)}matches(e){return jo(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function jo(t){return"and"===t.op}function _D(t){return function IF(t){for(const e of t.filters)if(e instanceof fe)return!1;return!0}(t)&&jo(t)}function vD(t){if(t instanceof X)return t.field.canonicalString()+t.op.toString()+Bo(t.value);if(_D(t))return t.filters.map(e=>vD(e)).join(",");{const e=t.filters.map(n=>vD(n)).join(",");return`${t.op}(${e})`}}function wF(t,e){return t instanceof X?(n=t,(r=e)instanceof X&&n.op===r.op&&n.field.isEqual(r.field)&&sr(n.value,r.value)):t instanceof fe?function(n,r){return r instanceof fe&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&wF(s,r.filters[o]),!0)}(t,e):void R();var n,r}function DF(t){return t instanceof X?function(e){return`${e.field.canonicalString()} ${e.op} ${Bo(e.value)}`}(t):t instanceof fe?function(e){return e.op.toString()+" {"+e.getFilters().map(DF).join(" ,")+"}"}(t):"Filter"}class qee extends X{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.matchesComparison(n)}}class Wee extends X{constructor(e,n){super(e,"in",n),this.keys=TF(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Kee extends X{constructor(e,n){super(e,"not-in",n),this.keys=TF(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TF(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class Qee extends X{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sc(n)&&ic(n.arrayValue,this.value)}}class bF extends X{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ic(this.value.arrayValue,n)}}class Yee extends X{constructor(e,n){super(e,"not-in",n)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ic(this.value.arrayValue,n)}}class Jee extends X{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ic(this.value.arrayValue,r))}}class Xee{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function ID(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Xee(t,e,n,r,i,s,o)}function fs(t){const e=A(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),tc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bo(r)).join(",")),e.dt=n}return e.dt}function ac(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_F(t.startAt,e.startAt)&&_F(t.endAt,e.endAt)}function af(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Fr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function $o(t){return new Fr(t)}function xF(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ps(t){const e=A(t);if(null===e.wt){e.wt=[];const n=function cf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function wD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Uo(n)),e.wt.push(new Uo(Ge.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Uo(Ge.keyField(),s))}}}return e.wt}function jt(t){const e=A(t);if(!e._t)if("F"===e.limitType)e._t=ID(e.path,e.collectionGroup,ps(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ps(e))n.push(new Uo(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new vi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new vi(e.startAt.position,e.startAt.inclusive):null;e._t=ID(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function lf(t,e,n){return new Fr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uc(t,e){return ac(jt(t),jt(e))&&t.limitType===e.limitType}function MF(t){return`${fs(jt(t))}|lt:${t.limitType}`}function TD(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>DF(r)).join(", ")}]`),tc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bo(r)).join(",")),`Target(${n})`}(jt(t))}; limitType=${t.limitType})`}function cc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ps(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=yF(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ps(n),r)||n.endAt&&!function(i,s,o){const a=yF(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ps(n),r)));var n,r}function kF(t){return(e,n)=>{let r=!1;for(const i of ps(t)){const s=Zee(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Zee(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?_i(a,u):R()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}class Lr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return aF(this.inner)}size(){return this.innerSize}}const ete=new we(S.comparator);function Zt(){return ete}const RF=new we(S.comparator);function lc(...t){let e=RF;for(const n of t)e=e.insert(n.key,n);return e}function PF(t){let e=RF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function or(){return dc()}function OF(){return dc()}function dc(){return new Lr(t=>t.toString(),(t,e)=>t.isEqual(e))}const tte=new we(S.comparator),nte=new De(S.comparator);function K(...t){let e=nte;for(const n of t)e=e.add(n);return e}const rte=new De(j);function FF(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(e)?"-0":e}}function LF(t){return{integerValue:""+t}}function VF(t,e){return function ZO(t){return"number"==typeof t&&Number.isInteger(t)&&!nc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?LF(e):FF(t,e)}class df{constructor(){this._=void 0}}function ite(t,e,n){return t instanceof Ho?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&tf(i)&&(i=nf(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof gs?UF(t,e):t instanceof ms?jF(t,e):function(r,i){const s=BF(r,i),o=$F(s)+$F(r.gt);return mD(s)&&mD(r.gt)?LF(o):FF(r.serializer,o)}(t,e)}function ste(t,e,n){return t instanceof gs?UF(t,e):t instanceof ms?jF(t,e):n}function BF(t,e){return t instanceof Go?mD(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ho extends df{}class gs extends df{constructor(e){super(),this.elements=e}}function UF(t,e){const n=HF(e);for(const r of t.elements)n.some(i=>sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ms extends df{constructor(e){super(),this.elements=e}}function jF(t,e){let n=HF(e);for(const r of t.elements)n=n.filter(i=>!sr(i,r));return{arrayValue:{values:n}}}class Go extends df{constructor(e,n){super(),this.serializer=e,this.gt=n}}function $F(t){return Le(t.integerValue||t.doubleValue)}function HF(t){return sc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ate{constructor(e,n){this.version=e,this.transformResults=n}}class Ae{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ae}static exists(e){return new Ae(void 0,e)}static updateTime(e){return new Ae(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class ff{}function GF(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new qo(t.key,Ae.none()):new zo(t.key,t.data,Ae.none());{const n=t.data,r=vt.empty();let i=new De(Ge.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Vr(t.key,r,new Xt(i.toArray()),Ae.none())}}function ute(t,e,n){t instanceof zo?function(r,i,s){const o=r.value.clone(),a=WF(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vr?function(r,i,s){if(!hf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=WF(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(qF(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function fc(t,e,n,r){return t instanceof zo?function(i,s,o,a){if(!hf(i.precondition,s))return o;const u=i.value.clone(),c=KF(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vr?function(i,s,o,a){if(!hf(i.precondition,s))return o;const u=KF(i.fieldTransforms,a,s),c=s.data;return c.setAll(qF(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,hf(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function cte(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=BF(r.transform,i||null);null!=s&&(null===n&&(n=vt.empty()),n.set(r.field,s))}return n||null}function zF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Lo(n,r,(i,s)=>function ote(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof gs&&r instanceof gs||n instanceof ms&&r instanceof ms?Lo(n.elements,r.elements,sr):n instanceof Go&&r instanceof Go?sr(n.gt,r.gt):n instanceof Ho&&r instanceof Ho);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class zo extends ff{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vr extends ff{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function WF(t,e,n){const r=new Map;P(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ste(o,a,n[i]))}return r}function KF(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ite(s,o,e))}return r}class qo extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CD extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ute(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OF();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=GF(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(F.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),K())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(n,r)=>zF(n,r))&&Lo(this.baseMutations,e.baseMutations,(n,r)=>zF(n,r))}}class AD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){P(e.mutations.length===r.length);let i=tte;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new AD(e,n,r,i)}}class xD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dte{constructor(e,n){this.count=e,this.unchangedNames=n}}var Qe,ie;function YF(t){if(void 0===t)return He("GRPC error has no .code"),I.UNKNOWN;switch(t){case Qe.OK:return I.OK;case Qe.CANCELLED:return I.CANCELLED;case Qe.UNKNOWN:return I.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return I.INTERNAL;case Qe.UNAVAILABLE:return I.UNAVAILABLE;case Qe.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Qe.NOT_FOUND:return I.NOT_FOUND;case Qe.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Qe.ABORTED:return I.ABORTED;case Qe.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Qe.DATA_LOSS:return I.DATA_LOSS;default:return R()}}(ie=Qe||(Qe={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";class MD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return pf}static getOrCreateInstance(){return null===pf&&(pf=new MD),pf}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let pf=null;const hte=new Oo([4294967295,4294967295],0);function XF(t){const e=function JF(){return new TextEncoder}().encode(t),n=new aee;return n.update(e),new Uint8Array(n.digest())}function ZF(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Oo([n,r],0),new Oo([i,s],0)]}class ND{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pc(`Invalid padding: ${n}`);if(r<0)throw new pc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new pc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new pc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Oo.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Oo.fromNumber(r)));return 1===i.compare(hte)&&(i=new Oo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=XF(e),[r,i]=ZF(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ND(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=XF(e),[r,i]=ZF(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gc(F.min(),i,new we(j),Zt(),K())}}class mc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mc(r,n,K(),K(),K())}}class gf{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class eL{constructor(e,n){this.targetId=e,this.Vt=n}}class tL{constructor(e,n,r=tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nL{constructor(){this.St=0,this.Dt=iL(),this.Ct=tt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=K(),n=K(),r=K();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:R()}}),new mc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=iL()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class fte{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Zt(),this.zt=rL(),this.Wt=new we(j)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:R()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(af(o))if(0===i){const a=new S(o.path);this.Yt(r,a,Te.newNoDocument(a,F.min()))}else P(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=MD.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,y,w;const _={localCacheCount:l,existenceFilterCount:d.count},T=d.unchangedNames;return T&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=T?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=T?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(y=T?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Or(s).toUint8Array()}catch(l){if(l instanceof cF)return On("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new ND(u,o,a)}catch(l){return On(l instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&af(a.target)){const u=new S(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Te.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=K();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new gc(e,n,this.Wt,this.jt,r);return this.jt=Zt(),this.zt=rL(),this.Wt=new we(j),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new nL,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new De(j),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nL),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function rL(){return new we(S.comparator)}function iL(){return new we(S.comparator)}const pte={asc:"ASCENDING",desc:"DESCENDING"},gte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mte={and:"AND",or:"OR"};class yte{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kD(t,e){return t.useProto3Json||tc(e)?e:{value:e}}function Wo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _te(t,e){return Wo(t,e.toTimestamp())}function ze(t){return P(!!t),F.fromTimestamp(function(e){const n=gi(e);return new Se(n.seconds,n.nanos)}(t))}function RD(t,e){return(n=t,new re(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function oL(t){const e=re.fromString(t);return P(gL(e)),e}function yc(t,e){return RD(t.databaseId,e.path)}function ar(t,e){const n=oL(e);if(n.get(1)!==t.databaseId.projectId)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(uL(n))}function PD(t,e){return RD(t.databaseId,e)}function _c(t){return new re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uL(t){return P(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function cL(t,e,n){return{name:yc(t,e),fields:n.value.mapValue.fields}}function dL(t,e){return{documents:[PD(t,e.path)]}}function FD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=PD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=PD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return pL(fe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ii((l=c).field),direction:Dte(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=kD(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function hL(t){let e=function aL(t){const e=oL(t);return 4===e.length?re.emptyPath():uL(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){P(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=fL(l);return d instanceof fe&&_D(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Uo(Ko((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,tc(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new vi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new vi(l.values||[],!l.before)}(n.endAt)),function AF(t,e,n,r,i,s,o,a){return new Fr(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function fL(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ko(e.unaryFilter.field);return X.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ko(e.unaryFilter.field);return X.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ko(e.unaryFilter.field);return X.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ko(e.unaryFilter.field);return X.create(s,"!=",{nullValue:"NULL_VALUE"});default:return R()}}(t):void 0!==t.fieldFilter?function(e){return X.create(Ko(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return fe.create(e.compositeFilter.filters.map(n=>fL(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return R()}}(e.compositeFilter.op))}(t):R()}function Dte(t){return pte[t]}function Tte(t){return gte[t]}function bte(t){return mte[t]}function Ii(t){return{fieldPath:t.canonicalString()}}function Ko(t){return Ge.fromServerFormat(t.fieldPath)}function pL(t){return t instanceof X?function(e){if("=="===e.op){if(hF(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NAN"}};if(dF(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hF(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NOT_NAN"}};if(dF(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ii(e.field),op:Tte(e.op),value:e.value}}}(t):t instanceof fe?function(e){const n=e.getFilters().map(r=>pL(r));return 1===n.length?n[0]:{compositeFilter:{op:bte(e.op),filters:n}}}(t):R()}function Cte(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gL(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Br{constructor(e,n,r,i,s=F.min(),o=F.min(),a=tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mL{constructor(e){this.fe=e}}function LD(t){const e=hL({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?lf(e,e.limit,"L"):e}class Is{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Le(e.integerValue));else if("doubleValue"in e){const r=Le(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),nc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Or(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?fF(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):R()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),S.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Is.Ve=new Is;class Ote{constructor(){this.rn=new HD}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(ln.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(ln.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class HD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new De(re.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new De(re.comparator)).toArray()}}new Uint8Array(0);class At{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new At(e,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}At.DEFAULT_COLLECTION_PERCENTILE=10,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,At.DEFAULT=new At(41943040,At.DEFAULT_COLLECTION_PERCENTILE,At.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),At.DISABLED=new At(-1,0,0);class Es{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Es(0)}static Mn(){return new Es(-1)}}class jte{constructor(){this.changes=new Lr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Te.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gte{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $L{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&fc(r.mutation,i,Xt.empty(),Se.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,K()).next(()=>r))}getLocalViewOfDocuments(e,n,r=K()){const i=or();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=lc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,K()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Zt();const o=dc(),a=dc();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Vr)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),fc(l.mutation,c,l.mutation.getFieldMask(),Se.now())):o.set(c.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Gte(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=dc();let i=new we((o,a)=>o-a),s=K();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Xt.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||K()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=OF();l.forEach(h=>{if(!s.has(h)){const f=GF(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function ED(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(or());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,K())).next(l=>({batchId:a,changes:PF(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new S(n)).next(r=>{let i=lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=lc();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new Fr(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Te.newInvalidDocument(c)))});let o=lc();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&fc(c.mutation,u,Xt.empty(),Se.now()),cc(n,u)&&(o=o.insert(a,u))}),o})}}class zte{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ze(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:LD(r.bundledQuery),readTime:ze(r.readTime)}),v.resolve();var r}}class qte{constructor(){this.overlays=new we(S.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=or();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=or(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new we((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=or(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=or(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xD(n,r));let s=this.ls.get(n);void 0===s&&(s=K(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class GD{constructor(){this.fs=new De(ct.ds),this.ws=new De(ct._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new ct(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new ct(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new S(new re([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new S(new re([])),r=new ct(n,e),i=new ct(n,e+1);let s=K();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return S.comparator(e.key,n.key)||j(e.As,n.As)}static _s(e,n){return j(e.As,n.As)||S.comparator(e.key,n.key)}}class Wte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new De(ct.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new SD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new De(j);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new ct(new S(s),0);let a=new De(j);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){P(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new ct(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Kte{constructor(e){this.Ds=e,this.docs=new we(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Te.newInvalidDocument(n))}getEntries(e,n){let r=Zt();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Te.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zt();const o=n.path,a=new S(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||dD(YO(l),r)<=0||(i.has(l.key)||cc(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){R()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Qte(this)}getSize(e){return v.resolve(this.size)}}class Qte extends jte{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Yte{constructor(e){this.persistence=e,this.xs=new Lr(n=>fs(n),ac),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.Ns=0,this.ks=new GD,this.targetCount=0,this.Ms=Es.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Es(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class zD{constructor(e,n){this.$s={},this.overlays={},this.Os=new dn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Yte(this),this.indexManager=new Ote,this.remoteDocumentCache=new Kte(r=>this.referenceDelegate.Ls(r)),this.serializer=new mL(n),this.qs=new zte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qte,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Wte(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new Jte(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Jte extends _ee{constructor(e){super(),this.currentSequenceNumber=e}}class Tf{constructor(e){this.persistence=e,this.Qs=new GD,this.js=null}static zs(e){return new Tf(e)}get Ws(){if(this.js)return this.js;throw R()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=S.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,F.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class QD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=K(),i=K();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new QD(e,n.fromCache,r,i)}}class GL{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(xF(n))return v.resolve(null);let r=jt(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=lf(n,null,"F"),r=jt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=K(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,lf(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return xF(n)||i.isEqual(F.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(uD()<=se.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),TD(n)),this.Wi(e,o,n,function QO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=F.fromTimestamp(1e9===r?new Se(n+1,0):new Se(n,r));return new ln(i,S.empty(),e)}(i,-1)))})}ji(e,n){let r=new De(kF(e));return n.forEach((i,s)=>{cc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return uD()<=se.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",TD(n)),this.Ui.getDocumentsMatchingQuery(e,n,ln.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Zte{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new we(j),this.Yi=new Lr(s=>fs(s),ac),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $L(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function qL(t,e){return YD.apply(this,arguments)}function YD(){return YD=m(function*(t,e){const n=A(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=K();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),YD.apply(this,arguments)}function WL(t){const e=A(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function nne(t,e){const n=A(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xo(t,e,n){return JD.apply(this,arguments)}function JD(){return JD=m(function*(t,e,n){const r=A(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!fi(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),JD.apply(this,arguments)}function Sf(t,e,n){const r=A(t);let i=F.min(),s=K();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=A(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,jt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:F.min(),n?s:K())).next(a=>(function JL(t,e,n){let r=t.Xi.get(e)||F.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function NF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class nT{constructor(){this.activeTargetIds=function bD(){return rte}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e2{constructor(){this.Hr=new nT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new nT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sne{Yr(e){}shutdown(){}}class t2{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Mf=null;function iT(){return null===Mf?Mf=268435456+Math.round(2147483648*Math.random()):Mf++,"0x"+Mf.toString(16)}const one={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ane{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const xt="WebChannelConnection";class une extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=iT(),a=this.To(e,n);b("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(b("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw On("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${one[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=iT();return new Promise((o,a)=>{const u=new oee;u.setWithCredentials(!0),u.listenOnce(ree.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case aD.NO_ERROR:const l=u.getResponseJson();b(xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case aD.TIMEOUT:b(xt,`RPC '${e}' ${s} timed out`),a(new D(I.DEADLINE_EXCEEDED,"Request time out"));break;case aD.HTTP_ERROR:const d=u.getStatus();if(b(xt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(I.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{b(xt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);b(xt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=iT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tee(),a=nee(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new see({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");b(xt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new ane({ro:y=>{f?b(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(b(xt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),b(xt,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,w,_)=>{y.listen(w,T=>{try{_(T)}catch(N){setTimeout(()=>{throw N},0)}})};return g(d,Qh.EventType.OPEN,()=>{f||b(xt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Qh.EventType.CLOSE,()=>{f||(f=!0,b(xt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Qh.EventType.ERROR,y=>{f||(f=!0,On(xt,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new D(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,Qh.EventType.MESSAGE,y=>{var w;if(!f){const _=y.data[0];P(!!_);const N=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(N){b(xt,`RPC '${e}' stream ${i} received error:`,N);const O=N.status;let W=function(Mt){const cr=Qe[Mt];if(void 0!==cr)return YF(cr)}(O),me=N.message;void 0===W&&(W=I.INTERNAL,me="Unknown error status: "+O+" with message "+N.message),f=!0,p.wo(new D(W,me)),d.close()}else b(xt,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,iee.STAT_EVENT,y=>{y.stat===HO.PROXY?b(xt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===HO.NOPROXY&&b(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Nf(){return typeof document<"u"?document:null}function Ac(t){return new yte(t,!0)}class sT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class r2{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new sT(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(He(n.toString()),He("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new D(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cne extends r2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Ite(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:R(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(P(void 0===c||"string"==typeof c),tt.fromBase64String(c||"")):(P(void 0===c||c instanceof Uint8Array),tt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:YF(u.code);return new D(c,u.message||"")}(o);n=new tL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ar(t,r.document.name),s=ze(r.document.updateTime),o=r.document.createTime?ze(r.document.createTime):F.min(),a=new vt({mapValue:{fields:r.document.fields}}),u=Te.newFoundDocument(i,s,o,a);n=new gf(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ar(t,r.document),s=r.readTime?ze(r.readTime):F.min(),o=Te.newNoDocument(i,s);n=new gf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ar(t,r.document);n=new gf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return R();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new dte(i,s);n=new eL(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return F.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?F.min():s.readTime?ze(s.readTime):F.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=_c(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=af(a)?{documents:dL(i,a)}:{query:FD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=sL(i,s.resumeToken);const u=kD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(F.min())>0){o.readTime=Wo(i,s.snapshotVersion.toTimestamp());const u=kD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Ete(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return R()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=_c(this.serializer),n.removeTarget=e,this.Wo(n)}}class lne extends r2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(P(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function wte(t,e){return t&&t.length>0?(P(void 0!==e),t.map(n=>function(r,i){let s=ze(r.updateTime?r.updateTime:i);return s.isEqual(F.min())&&(s=ze(i)),new ate(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ze(e.commitTime);return this.listener.cu(r,n)}return P(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=_c(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function vc(t,e){let n;if(e instanceof zo)n={update:cL(t,e.key,e.value)};else if(e instanceof qo)n={delete:yc(t,e.key)};else if(e instanceof Vr)n={update:cL(t,e.key,e.data),updateMask:Cte(e.fieldMask)};else{if(!(e instanceof CD))return R();n={verify:yc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ho)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof gs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ms)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Go)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw R()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:_te(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:R()),n;var i}(this.serializer,r))};this.Wo(n)}}class dne extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class fne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(He(n),this.mu=!1):b("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class pne{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var u;Ti(o)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=A(c);l.vu.add(4),yield Zo(l),l.bu.set("Unknown"),l.vu.delete(4),yield xc(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new fne(r,i)}}function xc(t){return aT.apply(this,arguments)}function aT(){return aT=m(function*(t){if(Ti(t))for(const e of t.Ru)yield e(!0)}),aT.apply(this,arguments)}function Zo(t){return uT.apply(this,arguments)}function uT(){return uT=m(function*(t){for(const e of t.Ru)yield e(!1)}),uT.apply(this,arguments)}function kf(t,e){const n=A(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),dT(n)?lT(n):ta(n).Ko()&&cT(n,e))}function Mc(t,e){const n=A(t),r=ta(n);n.Au.delete(e),r.Ko()&&i2(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ti(n)&&n.bu.set("Unknown"))}function cT(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(F.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).su(e)}function i2(t,e){t.Vu.qt(e),ta(t).iu(e)}function lT(t){t.Vu=new fte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.bu.gu()}function dT(t){return Ti(t)&&!ta(t).Uo()&&t.Au.size>0}function Ti(t){return 0===A(t).vu.size}function s2(t){t.Vu=void 0}function gne(t){return hT.apply(this,arguments)}function hT(){return hT=m(function*(t){t.Au.forEach((e,n)=>{cT(t,e)})}),hT.apply(this,arguments)}function mne(t,e){return fT.apply(this,arguments)}function fT(){return fT=m(function*(t,e){s2(t),dT(t)?(t.bu.Iu(e),lT(t)):t.bu.set("Unknown")}),fT.apply(this,arguments)}function yne(t,e,n){return pT.apply(this,arguments)}function pT(){return pT=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof tL&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Rf(t,r)}else if(e instanceof gf?t.Vu.Ht(e):e instanceof eL?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(F.min()))try{const r=yield WL(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(tt.EMPTY_BYTE_STRING,c.snapshotVersion)),i2(i,a);const l=new Br(c.target,a,u,c.sequenceNumber);cT(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield Rf(t,r)}var r}),pT.apply(this,arguments)}function Rf(t,e,n){return gT.apply(this,arguments)}function gT(){return gT=m(function*(t,e,n){if(!fi(e))throw e;t.vu.add(1),yield Zo(t),t.bu.set("Offline"),n||(n=()=>WL(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield xc(t)}))}),gT.apply(this,arguments)}function o2(t,e){return e().catch(n=>Rf(t,n,e))}function ea(t){return mT.apply(this,arguments)}function mT(){return mT=m(function*(t){const e=A(t),n=bi(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;_ne(e);)try{const i=yield nne(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,vne(e,i)}catch(i){yield Rf(e,i)}a2(e)&&u2(e)}),mT.apply(this,arguments)}function _ne(t){return Ti(t)&&t.Eu.length<10}function vne(t,e){t.Eu.push(e);const n=bi(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function a2(t){return Ti(t)&&!bi(t).Uo()&&t.Eu.length>0}function u2(t){bi(t).start()}function Ine(t){return yT.apply(this,arguments)}function yT(){return yT=m(function*(t){bi(t).hu()}),yT.apply(this,arguments)}function wne(t){return _T.apply(this,arguments)}function _T(){return _T=m(function*(t){const e=bi(t);for(const n of t.Eu)e.uu(n.mutations)}),_T.apply(this,arguments)}function Ene(t,e,n){return vT.apply(this,arguments)}function vT(){return vT=m(function*(t,e,n){const r=t.Eu.shift(),i=AD.from(r,e,n);yield o2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ea(t)}),vT.apply(this,arguments)}function Dne(t,e){return IT.apply(this,arguments)}function IT(){return IT=m(function*(t,e){var n;e&&bi(t).ou&&(yield(n=m(function*(r,i){if(function QF(t){switch(t){default:return R();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();bi(r).Qo(),yield o2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ea(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),a2(t)&&u2(t)}),IT.apply(this,arguments)}function c2(t,e){return wT.apply(this,arguments)}function wT(){return wT=m(function*(t,e){const n=A(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=Ti(n);n.vu.add(3),yield Zo(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield xc(n)}),wT.apply(this,arguments)}function DT(){return DT=m(function*(t,e){const n=A(t);e?(n.vu.delete(2),yield xc(n)):e||(n.vu.add(2),yield Zo(n),n.bu.set("Unknown"))}),DT.apply(this,arguments)}function ta(t){return t.Su||(t.Su=function(e,n,r){const i=A(e);return i.fu(),new cne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:gne.bind(null,t),ao:mne.bind(null,t),nu:yne.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),dT(t)?lT(t):t.bu.set("Unknown")):(yield t.Su.stop(),s2(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function bi(t){return t.Du||(t.Du=function(e,n,r){const i=A(e);return i.fu(),new lne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Ine.bind(null,t),ao:Dne.bind(null,t),au:wne.bind(null,t),cu:Ene.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield ea(t)):(yield t.Du.stop(),t.Eu.length>0&&(b("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class TT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new et,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new TT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function na(t,e){if(He("AsyncQueue",`${e}: ${t}`),fi(t))return new D(I.UNAVAILABLE,`${e}: ${t}`);throw t}class ra{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=lc(),this.sortedSet=new we(this.comparator)}static emptySet(e){return new ra(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ra)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class l2{constructor(){this.Cu=new we(S.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):R():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ia{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ia(e,n,ra.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Tne{constructor(){this.Nu=void 0,this.listeners=[]}}class bne{constructor(){this.queries=new Lr(e=>MF(e),uc),this.onlineState="Unknown",this.ku=new Set}}function CT(){return CT=m(function*(t,e){const n=A(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Tne),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=na(o,`Initialization of query '${TD(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&xT(n)}),CT.apply(this,arguments)}function AT(){return AT=m(function*(t,e){const n=A(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),AT.apply(this,arguments)}function Cne(t,e){const n=A(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&xT(n)}function Sne(t,e,n){const r=A(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function xT(t){t.ku.forEach(e=>{e.next()})}class MT{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class f2{constructor(e){this.key=e}}class p2{constructor(e){this.key=e}}class g2{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=K(),this.mutatedKeys=K(),this.tc=kF(e),this.ec=new ra(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new l2,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=cc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new ia(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new l2,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=K(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new p2(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new f2(r))}),n}hc(e){this.Yu=e.ir,this.Zu=K();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ia.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Mne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nne{constructor(e){this.key=e,this.fc=!1}}class kne{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Lr(a=>MF(a),uc),this._c=new Map,this.mc=new Set,this.gc=new we(S.comparator),this.yc=new Map,this.Ic=new GD,this.Tc={},this.Ec=new Map,this.Ac=Es.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Rne(t,e){return NT.apply(this,arguments)}function NT(){return NT=m(function*(t,e){const n=function e0(t){const e=A(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=m2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$ne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fne.bind(null,e),e.dc.nu=Cne.bind(null,e.eventManager),e.dc.Pc=Sne.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Jo(t,e){const n=A(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Br(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,jt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function kT(t,e,n,r,i){return RT.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&kf(n.remoteStore,o)}return i}),NT.apply(this,arguments)}function RT(){return RT=m(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=m(function*(g,y,w,_){let T=y.view.sc(w);T.zi&&(T=yield Sf(g.localStore,y.query,!1).then(({documents:W})=>y.view.sc(W,T)));const N=_&&_.targetChanges.get(y.targetId),O=y.view.applyChanges(T,g.isPrimaryClient,N);return HT(g,y.targetId,O.cc),O.snapshot}),function(g,y,w,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Sf(t.localStore,e,!0),o=new g2(e,s.ir),a=o.sc(s.documents),u=mc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);HT(t,n,c.cc);const l=new Mne(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),RT.apply(this,arguments)}function Pne(t,e){return PT.apply(this,arguments)}function PT(){return PT=m(function*(t,e){const n=A(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!uc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xo(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Mc(n.remoteStore,r.targetId),sa(n,r.targetId)}).catch(hi))):(sa(n,r.targetId),yield Xo(n.localStore,r.targetId,!0))}),PT.apply(this,arguments)}function OT(){return OT=m(function*(t,e,n){const r=function t0(t){const e=A(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vne.bind(null,e),e}(t);try{const i=yield function(s,o){const a=A(s),u=Se.now(),c=o.reduce((h,f)=>h.add(f.key),K());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Zt(),p=K();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const w of o){const _=cte(w,l.get(w.key).overlayedDocument);null!=_&&y.push(new Vr(w.key,_,mF(_.value.mapValue),Ae.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:PF(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new we(j)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Ur(r,i.changes),yield ea(r.remoteStore)}catch(i){const s=na(i,"Failed to persist write");n.reject(s)}}),OT.apply(this,arguments)}function m2(t,e){return FT.apply(this,arguments)}function FT(){return FT=m(function*(t,e){const n=A(t);try{const r=yield function tne(t,e){const n=A(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(tt.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Zt(),c=K();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function KL(t,e,n){let r=K(),i=K();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Zt();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(F.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(F.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(P(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?P(o.fc):i.removedDocuments.size>0&&(P(o.fc),o.fc=!1))}),yield Ur(n,r,e)}catch(r){yield hi(r)}}),FT.apply(this,arguments)}function y2(t,e,n){const r=A(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=A(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&xT(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Fne(t,e,n){return LT.apply(this,arguments)}function LT(){return LT=m(function*(t,e,n){const r=A(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new we(S.comparator);o=o.insert(s,Te.newNoDocument(s,F.min()));const a=K().add(s),u=new gc(F.min(),new Map,new we(j),o,a);yield m2(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),GT(r)}else yield Xo(r.localStore,e,!1).then(()=>sa(r,e,n)).catch(hi)}),LT.apply(this,arguments)}function Lne(t,e){return VT.apply(this,arguments)}function VT(){return VT=m(function*(t,e){const n=A(t),r=e.batch.batchId;try{const i=yield function ene(t,e){const n=A(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);P(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=K();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);$T(n,r,null),jT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ur(n,i)}catch(i){yield hi(i)}}),VT.apply(this,arguments)}function Vne(t,e,n){return BT.apply(this,arguments)}function BT(){return BT=m(function*(t,e,n){const r=A(t);try{const i=yield function(s,o){const a=A(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(P(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);$T(r,e,n),jT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ur(r,i)}catch(i){yield hi(i)}}),BT.apply(this,arguments)}function jT(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function $T(t,e,n){const r=A(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function sa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||_2(t,r)})}function _2(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Mc(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),GT(t))}function HT(t,e,n){for(const r of n)r instanceof f2?(t.Ic.addReference(r.key,e),Une(t,r)):r instanceof p2?(b("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||_2(t,r.key)):R()}function Une(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(b("SyncEngine","New document in limbo: "+n),t.mc.add(r),GT(t))}function GT(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new S(re.fromString(e)),r=t.Ac.next();t.yc.set(r,new Nne(n)),t.gc=t.gc.insert(n,r),kf(t.remoteStore,new Br(jt($o(n.path)),r,"TargetPurposeLimboResolution",dn.ct))}}function Ur(t,e,n){return zT.apply(this,arguments)}function zT(){return zT=m(function*(t,e,n){const r=A(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=QD.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(u,c){const l=A(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!fi(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),zT.apply(this,arguments)}function jne(t,e){return qT.apply(this,arguments)}function qT(){return qT=m(function*(t,e){const n=A(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield qL(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new D(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ur(n,r.er)}var i}),qT.apply(this,arguments)}function $ne(t,e){const n=A(t),r=n.yc.get(e);if(r&&r.fc)return K().add(r.key);{let i=K();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Pf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=Ac(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function zL(t,e,n,r){return new Zte(t,e,n,r)}(this.persistence,new GL,e.initialUser,this.serializer)}createPersistence(e){return new zD(Tf.zs,this.serializer)}createSharedClientState(e){return new e2}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class oa{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>y2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=jne.bind(null,r.syncEngine),yield function ET(t,e){return DT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bne}createDatastore(e){const n=Ac(e.databaseInfo.databaseId),r=new une(e.databaseInfo);return new dne(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>y2(this.syncEngine,a,0),o=t2.D()?new t2:new sne,new pne(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new kne(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=m(function*(n){const r=A(n);b("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Zo(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Of{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):He("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class tre{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=WO.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){b("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new et;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=na(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Ff(t,e){return n0.apply(this,arguments)}function n0(){return n0=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield qL(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),n0.apply(this,arguments)}function r0(t,e){return s0.apply(this,arguments)}function s0(){return s0=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function o0(t){return a0.apply(this,arguments)}(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>c2(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>c2(e.remoteStore,s)),t._onlineComponents=e}),s0.apply(this,arguments)}function a0(){return a0=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ff(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function T2(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;On("Error using user provided cache. Falling back to memory cache: "+n),yield Ff(t,new Pf)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield Ff(t,new Pf);return t._offlineComponents}),a0.apply(this,arguments)}function Lf(t){return u0.apply(this,arguments)}function u0(){return u0=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield r0(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield r0(t,new oa))),t._onlineComponents}),u0.apply(this,arguments)}function aa(t){return l0.apply(this,arguments)}function l0(){return l0=m(function*(t){const e=yield Lf(t),n=e.eventManager;return n.onListen=Rne.bind(null,e.syncEngine),n.onUnlisten=Pne.bind(null,e.syncEngine),n}),l0.apply(this,arguments)}function M2(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const N2=new Map;function d0(t,e,n){if(!n)throw new D(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k2(t){if(!S.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function R2(t){if(S.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":R()}function ee(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bf(t);throw new D(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class O2{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function lre(t,e,n,r){if(!0===e&&!0===r)throw new D(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=M2(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O2(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new uee;switch(n.type){case"firstParty":return new hee(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new D(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=N2.get(e);n&&(b("ComponentProvider","Removing Datastore"),N2.delete(e),n.terminate())}(this),Promise.resolve()}}class qe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qe(this.firestore,e,this._key)}}class It{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new It(this.firestore,e,this._query)}}class ur extends It{constructor(e,n,r){super(e,n,$o(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qe(this.firestore,null,new S(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function hre(t,e,...n){if(t=vn(t),d0("collection","path",e),t instanceof Nc){const r=re.fromString(e,...n);return R2(r),new ur(t,null,r)}{if(!(t instanceof qe||t instanceof ur))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(re.fromString(e,...n));return R2(r),new ur(t.firestore,null,r)}}function F2(t,e,...n){if(t=vn(t),1===arguments.length&&(e=WO.A()),d0("doc","path",e),t instanceof Nc){const r=re.fromString(e,...n);return k2(r),new qe(t,null,new S(r))}{if(!(t instanceof qe||t instanceof ur))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(re.fromString(e,...n));return k2(r),new qe(t.firestore,t instanceof ur?t.converter:null,new S(r))}}class fre{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new sT(this,"async_queue_retry"),this.Xc=()=>{const n=Nf();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Nf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Nf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new et;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!fi(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,He("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=TT.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&R()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function h0(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class be extends Nc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fre,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||V2(this),this._firestoreClient.terminate()}}function gre(t,e){const r="string"==typeof t?t:e||"(default)",i=qd("object"==typeof t?t:B1(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=jd())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function dre(t,e,n,r={}){var i;const s=(t=ee(t,Nc))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&On("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=at.MOCK_USER;else{a=function e7(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bd(JSON.stringify({alg:"none",type:"JWT"})),Bd(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new at(c)}t._authCredentials=new cee(new zO(a,u))}}(i,...s)}return i}function Ye(t){return t._firestoreClient||V2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function V2(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new $ee(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,M2(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new tre(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(tt.fromBase64String(e))}catch(n){throw new D(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts(tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ua{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class j2{constructor(e){this._methodName=e}}class f0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return j(this._lat,e._lat)||j(this._long,e._long)}}const yre=/^__.*__$/;class _re{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new zo(e,this.data,n,this.fieldTransforms)}}function H2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}class Uf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Uf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return $f(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(H2(this.ca)&&yre.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class vre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ac(e)}ya(e,n,r,i=!1){return new Uf({ca:e,methodName:n,ga:r,path:Ge.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ca(t){const e=t._freezeSettings(),n=Ac(t._databaseId);return new vre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function p0(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);m0("Data must be an object, but it was:",o,r);const a=K2(r,o);let u,c;if(s.merge)u=new Xt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Pc(e,d,n);if(!o.contains(h))throw new D(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Y2(l,h)||l.push(h)}u=new Xt(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new _re(new vt(a),u,c)}function bs(t,e){if(Q2(t=vn(t)))return m0("Unsupported field value:",e,t),K2(t,e);if(t instanceof j2)return function(n,r){if(!H2(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=bs(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=vn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return VF(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Se.fromDate(n);return{timestampValue:Wo(r.serializer,i)}}if(n instanceof Se){const i=new Se(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Wo(r.serializer,i)}}if(n instanceof f0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ts)return{bytesValue:sL(r.serializer,n._byteString)};if(n instanceof qe){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:RD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Bf(n)}`)}(t,e)}function K2(t,e){const n={};return aF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pi(t,(r,i)=>{const s=bs(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Q2(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Se||t instanceof f0||t instanceof Ts||t instanceof qe||t instanceof j2)}function m0(t,e,n){if(!Q2(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Bf(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Pc(t,e,n){if((e=vn(e))instanceof ua)return e._internalPath;if("string"==typeof e)return jf(t,e);throw $f("Field path arguments must be of type string or ",t,!1,void 0,n)}const Dre=new RegExp("[~\\*/\\[\\]]");function jf(t,e,n){if(e.search(Dre)>=0)throw $f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ua(...e.split("."))._internalPath}catch{throw $f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $f(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(I.INVALID_ARGUMENT,a+t+u)}function Y2(t,e){return t.some(n=>n.isEqual(e))}class y0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Tre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Tre extends y0{data(){return super.data()}}function Hf(t,e){return"string"==typeof e?jf(t,e):e instanceof ua?e._internalPath:e._delegate._internalPath}class Cre{convertValue(e,n="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw R()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new f0(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nf(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const n=gi(e);return new Se(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=re.fromString(e);P(gL(r));const i=new ds(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||He(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Cs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends y0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wf extends da{data(e={}){return super.data(e)}}class ha{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wf(this._firestore,this._userDataWriter,r.key,r,new Cs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Wf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Cs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Wf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Cs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Are(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Are(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}class Ci extends Cre{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qe(this.firestore,null,n)}}function xre(t){return Fc(ee(t.firestore,be),[new qo(t._key,Ae.none())])}function Mre(t,e){const n=ee(t.firestore,be),r=F2(t),i=function v0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Fc(n,[p0(ca(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ae.exists(!1))]).then(()=>r)}function Fc(t,e){return function(n,r){const i=new et;return n.asyncQueue.enqueueAndForget(m(function*(){return function One(t,e,n){return OT.apply(this,arguments)}(yield function c0(t){return Lf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Ye(t),e)}!function(t,e=!0){Fo=pu,Vt(new Tt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new be(new lee(n.getProvider("auth-internal")),new fee(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ds(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),$e(GO,"3.13.0",t),$e(GO,"3.13.0","esm2017")}();var Hre={includeMetadataChanges:!1};function w0(t,e){return void 0===e&&(e=Hre),new lt(function(n){var r=function Nre(t,...e){var n,r,i;t=vn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||h0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(h0(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof qe)c=ee(t.firestore,be),l=$o(t._key.path),u={next:d=>{e[o]&&e[o](function I0(t,e,n){const r=n.docs.get(e._key),i=new Ci(t);return new da(t,i,e._key,r,new Cs(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ee(t,It);c=ee(d.firestore,be),l=d._query;const h=new Ci(c);u={next:f=>{e[o]&&e[o](new ha(c,h,d,f))},error:e[o+1],complete:e[o+2]},function J2(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Of(p),y=new MT(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function bT(t,e){return CT.apply(this,arguments)}(yield aa(d),y)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(m(function*(){return function ST(t,e){return AT.apply(this,arguments)}(yield aa(d),y)}))}}(Ye(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Yre(t,e){return void 0===e&&(e={}),function Qre(t){return w0(t,{includeMetadataChanges:!0}).pipe(tp(function(e){return e.docs}))}(t).pipe(tp(function(n){return n.map(function(r){return function sV(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Qf{constructor(e){return e}}const cV="firestore",T0=new B("angularfire2.firestore-instances");function Zre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Qf(r)}}const eie={provide:class Jre{constructor(){return zv(cV)}},deps:[[new sn,T0]]},tie={provide:Qf,useFactory:function Xre(t,e){const n=function Gv(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(cV,t,e);return n&&new Qf(n)},deps:[[new sn,T0],To]};let nie=(()=>{class t{constructor(){$e("angularfire",Fv.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Mi({type:t}),t.\u0275inj=zr({providers:[tie,eie]}),t})();function rie(t,...e){return{ngModule:nie,providers:[{provide:T0,useFactory:Zre(t),multi:!0,deps:[Ne,gn,eR,tR,[new sn,sP],[new sn,SP],...e]}]}}const iie=es(Yre,!0),sie=es(Mre,!0),lV=es(hre,!0),oie=es(xre,!0),aie=es(F2,!0),uie=es(gre,!0);let dV=(()=>{var t;class e{constructor(r){this.fs=r}getNotes(){let r=lV(this.fs,"notes");return iie(r,{idField:"id"})}addNote(r){console.log(r);let i={text:r,date:Se.now()},s=lV(this.fs,"notes");return sie(s,i)}deleteNote(r){let i=aie(this.fs,"notes/"+r);return oie(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Qf))},t.\u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function cie(t,e){if(1&t){const n=dm();Sn(0,"div",9)(1,"div",10)(2,"p"),ti(3),qn()(),Sn(4,"div",11)(5,"div",12),ti(6),function DM(t,e){const n=ne();let r;const i=t+J;n.firstCreatePass?(r=function uz(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ki(r.type)),a=$t(Q);try{const u=gl(!1),c=s();return gl(u),function L4(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,E(),i,c),c}finally{$t(a)}}(7,"date"),qn(),Sn(8,"button",13),ti(9,"Edit"),qn(),Sn(10,"button",14),ud("click",function(){const s=Rp(n).$implicit;return Pp(qA().deleteNotes(s.id))}),ti(11,"Delete"),qn()()()}if(2&t){const n=e.$implicit;Jl(3),dd(n.text),Jl(3),dd(TM(7,2,1e3*n.date.seconds))}}let lie=(()=>{var t;class e{constructor(r){this.service=r,this.notes=[]}refreshNotes(){this.service.getNotes().subscribe(r=>{this.notes=r})}ngOnInit(){this.refreshNotes()}addNotes(r){this.service.addNote(r).then(()=>{this.refreshNotes()})}deleteNotes(r){this.service.deleteNote(r).then(()=>{this.refreshNotes()})}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(dV))},t.\u0275cmp=_b({type:t,selectors:[["app-root"]],decls:12,vars:1,consts:[[1,"header"],["header-text",""],[1,"add-note"],["placeholder","Text write here"],["newNote",""],[1,"buttons"],[1,"add-image"],[1,"save",3,"click"],["class","notes",4,"ngFor","ngForOf"],[1,"notes"],[1,"text-notes"],[1,"additional-buttons"],[1,"date"],[1,"edit"],[1,"delete",3,"click"]],template:function(r,i){if(1&r){const s=dm();Sn(0,"div",0)(1,"div",1),ti(2,"Personal diary"),qn()(),Sn(3,"div",2),um(4,"textarea",3,4),Sn(6,"div",5)(7,"button",6),ti(8,"Add image"),qn(),Sn(9,"button",7),ud("click",function(){Rp(s);const a=function LA(t){return Ps(function SU(){return V.lFrame.contextLView}(),J+t)}(5);return Pp(i.addNotes(a.value))}),ti(10,"Save"),qn()()(),function PA(t,e,n,r,i,s,o,a){const u=E(),c=ne(),l=t+J,d=c.firstCreatePass?function P4(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ro(e,t,4,o||null,Qr(c,a));Kg(e,n,l,Qr(c,u)),hl(e,l);const d=l.tView=Wg(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];$n(d,!1);const h=OA(c,u,d,t);dl()&&Nl(c,u,h,d),Et(h,u),Zl(u,u[l]=rA(h,u,h,d)),sl(d)&&zg(c,u,d),null!=o&&qg(u,d,a)}(11,cie,12,4,"div",8)}2&r&&(Jl(11),om("ngForOf",i.notes))},dependencies:[YN,e1],styles:[".header[_ngcontent-%COMP%]{font-size:700%;background:var(--field-bg-color);text-align:center;width:50%;border-radius:var(--field-bor-radius);margin:2% auto;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25))}.add-note[_ngcontent-%COMP%]{background-color:var(--field-bg-color);margin:1% auto;border-radius:var(--field-bor-radius);display:flex;width:80%;padding:var(--field-padding);filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));flex-grow:1}textarea[_ngcontent-%COMP%]{padding:2%;border-radius:var(--text-bor-radius);background-color:var(--text-bg-color);margin-right:2%;font-size:200%;flex-grow:7;resize:vertical}textarea[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]::placeholder, button[_ngcontent-%COMP%]{font-family:Just Another Hand,cursive;border:0}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;flex-grow:1}.add-image[_ngcontent-%COMP%], .save[_ngcontent-%COMP%]{font-size:200%;width:100%;padding:2%}button[_ngcontent-%COMP%]{background-color:var(--main-bg-color);border-radius:var(--text-bor-radius)}.notes[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--field-bg-color);font-size:200%;margin:1% auto;padding:var(--field-padding);border-radius:var(--field-bor-radius);width:80%;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25))}.text-notes[_ngcontent-%COMP%]{background-color:var(--text-bg-color);border-radius:var(--text-bor-radius);padding:2%;margin-bottom:2%}.date[_ngcontent-%COMP%]{background-color:var(--main-bg-color);border-radius:var(--text-bor-radius);padding:1%}.additional-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.edit[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]{font-size:100%;width:10%}"]}),e})();const die={apiKey:"AIzaSyAo41l8hk-4p-0vUr6tYgn_L7O-u8PS-EU",authDomain:"personal-diary-1b491.firebaseapp.com",projectId:"personal-diary-1b491",storageBucket:"personal-diary-1b491.appspot.com",messagingSenderId:"938846275251",appId:"1:938846275251:web:b707ed83faaf1966c092c6"};let hie=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mi({type:t,bootstrap:[lie]}),t.\u0275inj=zr({providers:[dV],imports:[P5,VQ(()=>BQ(die)),rie(()=>uie())]}),e})();k5().bootstrapModule(hie).catch(t=>console.error(t))}},xe=>{xe(xe.s=941)}]);